# PrismHR API Endpoint Flow Documentation

This document specifies the required flow/order of endpoint calls needed to successfully call each PrismHR API endpoint. When an endpoint requires parameters that must be retrieved from other endpoints, you must call those endpoints first. Follow these flows when processing user requests.

## Authentication
All API endpoints require authentication via sessionId. This is handled automatically by the MCP server through the createPeoSession endpoint using credentials from environment variables (PRISMHR_USERNAME, PRISMHR_PASSWORD, PRISMHR_PEO_ID).

## Applicant Endpoints

### /applicant/v1/getJobApplicantList
**Description**: Get a list of job applicants for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `applicant_id`: Applicant ID (optional)
- `apply_date`: Application date in YYYY-MM-DD format (optional)
- `last_name`: Applicant last name (optional)
- `count`: Number of records per page (optional)
- `startpage`: Pagination start location, first page = '0' (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_job_applicant_list
   ```
   - Call `get_job_applicant_list` directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_job_applicant_list
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_job_applicant_list` with the extracted `client_id`

**Example Use Cases**:
- "Get all job applicants for client 132" → Flow 1 (client_id known)
- "Show me the job applicants" → Flow 2 (client_id unknown, need to get client list first)
- "List applicants with last name Smith" → Flow 1 or 2 depending on whether client_id is known

---

### /applicant/v1/getJobApplicants
**Description**: Get detailed information for job applicants

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `applicant_id`: Applicant identifier (optional)

**Flow Scenarios**:

1. **If `client_id` is known AND `applicant_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_job_applicants
   ```
   - Call `get_job_applicants` directly with both known IDs

2. **If `client_id` is known BUT `applicant_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_job_applicant_list → get_job_applicants
   ```
   - Step 1: Call `get_job_applicant_list` with the known `client_id` to retrieve applicant IDs
   - Step 2: Extract `applicant_id` from the response
   - Step 3: Call `get_job_applicants` with both `client_id` and `applicant_id`

3. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → [get_job_applicant_list (if applicant_id unknown)] → get_job_applicants
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3a: If `applicant_id` is also unknown, call `get_job_applicant_list` with the extracted `client_id` to get applicant IDs
   - Step 3b: Extract `applicant_id` from the response (if step 3a was needed)
   - Step 4: Call `get_job_applicants` with both `client_id` and optionally `applicant_id`

**Example Use Cases**:
- "Get details for applicant 12345 in client 132" → Flow 1 (both IDs known)
- "Get job applicants for client 132" → Flow 2 (client_id known, applicant_id unknown)
- "Show me information about all applicants" → Flow 3 (both IDs unknown)
- "Get applicant John Smith's details" → Flow 2 or 3 (need to find applicant_id from list, client_id may or may not be known)

---

## General Flow Principles

1. **Always authenticate first**: The MCP server handles authentication automatically, but ensure credentials are available
2. **Resolve dependencies recursively**: If an endpoint requires parameters from other endpoints, call those endpoints first
3. **Extract required data**: After calling dependency endpoints, extract the required parameters from their responses before calling the target endpoint
4. **Use optional parameters when available**: If optional filter parameters (like `last_name`, `apply_date`) are provided by the user, use them to narrow results
5. **Handle pagination**: For list endpoints, use `count` and `startpage` parameters when needed to retrieve all results

## Benefits Endpoints

### /benefits/v1/benefitEnrollmentStatus
**Description**: Get benefit enrollment status for a client or employee

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `employee_id`: Employee identifier (optional)
- `enrollment_type`: Enrollment type (optional)
- `count`: Number of records per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` is known AND `employee_id` is not needed**:
   ```
   Flow: createPeoSession (automatic) → get_benefit_enrollment_status
   ```
   - Call `get_benefit_enrollment_status` directly with the known `client_id`

2. **If `client_id` is known BUT `employee_id` is needed but unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → get_benefit_enrollment_status
   ```
   - Step 1: Call `get_employee_list` with the known `client_id` to retrieve employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `get_benefit_enrollment_status` with `client_id` and optionally `employee_id`

3. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → [get_employee_list (if employee_id needed)] → get_benefit_enrollment_status
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3a: If `employee_id` is needed but unknown, call `get_employee_list` with the extracted `client_id`
   - Step 3b: Extract `employee_id` from the response (if step 3a was needed)
   - Step 4: Call `get_benefit_enrollment_status` with `client_id` and optionally `employee_id`

**Example Use Cases**:
- "Get benefit enrollment status for client 132" → Flow 1 (client_id known)
- "Show enrollment status for employee J00809 in client 132" → Flow 1 (both IDs known)
- "Get enrollment status for all employees in client 132" → Flow 2 (client_id known, employee_id unknown)
- "Show me enrollment status" → Flow 3 (client_id unknown)

---

### /benefits/v1/get401KMatchRules
**Description**: Get client's 401(k) match rules

**Required Parameters**:
- `client_id`: Client identifier (required)
- `benefit_group_id`: Benefit group identifier (required)
- `retirement_plan_id`: Retirement plan identifier (required)

**Optional Parameters**:
- None

**Flow Scenarios**:

1. **If all parameters (`client_id`, `benefit_group_id`, `retirement_plan_id`) are known**:
   ```
   Flow: createPeoSession (automatic) → get_401k_match_rules
   ```
   - Call `get_401k_match_rules` directly with all known parameters

2. **If `client_id` is known but `benefit_group_id` and/or `retirement_plan_id` are unknown**:
   ```
   Flow: createPeoSession (automatic) → get_benefit_group → [get_retirement_plan (if needed)] → get_401k_match_rules
   ```
   - Step 1: Call `get_benefit_group` with the known `client_id` (note: requires group_id, which may need to be obtained from client setup or user input)
   - Step 2: Extract `benefit_group_id` from the response
   - Step 3a: If `retirement_plan_id` is unknown, call `get_retirement_plan` with `client_id` and an `employee_id` (may need `get_employee_list` first)
   - Step 3b: Extract `retirement_plan_id` from the response (if step 3a was needed)
   - Step 4: Call `get_401k_match_rules` with all three parameters

3. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_benefit_group → [get_retirement_plan] → get_401k_match_rules
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Follow Flow 2 from step 1 onwards

**Note**: This endpoint has complex dependencies. The `benefit_group_id` and `retirement_plan_id` are typically obtained from client setup data or by querying related endpoints that may require additional context (like employee information).

**Example Use Cases**:
- "Get 401k match rules for client 132, benefit group BG001, plan RP001" → Flow 1 (all IDs known)
- "Show 401k match rules for client 132" → Flow 2 (need to find benefit_group_id and retirement_plan_id)
- "What are the 401k match rules?" → Flow 3 (all parameters unknown)

---

### /benefits/v1/getACAOfferedEmployees
**Description**: Get ACA offered employees for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `employee_id`: Employee identifier (optional)
- `count`: Number of employees per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_aca_offered_employees
   ```
   - Call `get_aca_offered_employees` directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_aca_offered_employees
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_aca_offered_employees` with the extracted `client_id`

**Example Use Cases**:
- "Get ACA offered employees for client 132" → Flow 1 (client_id known)
- "Show me ACA offered employees" → Flow 2 (client_id unknown)
- "List employees offered ACA coverage" → Flow 2 (client_id unknown)

---

### /benefits/v1/getAbsenceJournal
**Description**: Get absence journals by journal ID

**Required Parameters**:
- `client_id`: Client identifier (required)
- `journal_id`: Absence journal identifier(s) - up to 20 journals (required, list)

**Optional Parameters**:
- None

**Flow Scenarios**:

1. **If `client_id` is known AND `journal_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_absence_journal
   ```
   - Call `get_absence_journal` directly with both known parameters

2. **If `client_id` is known BUT `journal_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_absence_journal_by_date → get_absence_journal
   ```
   - Step 1: Call `get_absence_journal_by_date` with the known `client_id` and a date range to retrieve journal IDs
   - Step 2: Extract `journal_id` from the response
   - Step 3: Call `get_absence_journal` with `client_id` and `journal_id`

3. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → [get_absence_journal_by_date (if journal_id unknown)] → get_absence_journal
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3a: If `journal_id` is also unknown, call `get_absence_journal_by_date` with the extracted `client_id` and a date range
   - Step 3b: Extract `journal_id` from the response (if step 3a was needed)
   - Step 4: Call `get_absence_journal` with both parameters

**Example Use Cases**:
- "Get absence journal 12345 for client 132" → Flow 1 (both IDs known)
- "Show absence journals for client 132" → Flow 2 (client_id known, journal_id unknown)
- "Get absence journals from last month for client 132" → Flow 2 (need to get journal_ids from date range first)

---

### /benefits/v1/getAbsenceJournalByDate
**Description**: Get absence journals by date range

**Required Parameters**:
- `client_id`: Client identifier (required)
- `journal_date_start`: Absence journals date range starting date in YYYY-MM-DD format (required)
- `journal_date_end`: Absence journals date range ending date in YYYY-MM-DD format (required)

**Optional Parameters**:
- `employee_id`: Return only records for the specified employee (optional)
- `count`: Number of absence journal records per page (optional)
- `startpage`: Pagination start location, first page = '0' (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_absence_journal_by_date
   ```
   - Call `get_absence_journal_by_date` directly with the known `client_id` and date range
   - Note: Date range may be provided by user or use reasonable defaults (e.g., current month)

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_absence_journal_by_date
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_absence_journal_by_date` with the extracted `client_id` and date range

**Example Use Cases**:
- "Get absence journals from 2024-01-01 to 2024-01-31 for client 132" → Flow 1 (client_id known)
- "Show absence journals for last month" → Flow 2 (client_id unknown, date range derived from "last month")
- "Get absence journals for employee J00809 from January to March" → Flow 1 or 2 depending on client_id

---

### /benefits/v1/getActiveBenefitPlans
**Description**: Get active benefit plans for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `plan_id`: List of benefit plan IDs (optional)
- `effective_date`: YYYY-MM-DD formatted string (optional)

**Flow Scenarios**:

1. **If `client_id` and `employee_id` are known**:
   ```
   Flow: createPeoSession (automatic) → get_active_benefit_plans
   ```
   - Call `get_active_benefit_plans` directly with both known IDs

2. **If `client_id` is known but `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → get_active_benefit_plans
   ```
   - Step 1: Call `get_employee_list` with the known `client_id` to retrieve employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `get_active_benefit_plans` with both IDs

3. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_employee_list → get_active_benefit_plans
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_employee_list` with the extracted `client_id`
   - Step 4: Extract `employee_id` from the response
   - Step 5: Call `get_active_benefit_plans` with both IDs

**Example Use Cases**:
- "Get active benefit plans for employee J00809 in client 132" → Flow 1 (both IDs known)
- "Show active plans for all employees in client 132" → Flow 2 (need employee_id)

---

### /benefits/v1/getAvailableBenefitPlans
**Description**: Get available benefit plans for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

**Example Use Cases**:
- "Get available benefit plans for employee J00809 in client 132" → Flow 1 (both IDs known)

---

### /benefits/v1/getBenefitAdjustments
**Description**: Get benefit adjustment information for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getBenefitConfirmationList
**Description**: Get a list of benefit confirmations for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `year`: Specify a year (YYYY format) to only return confirmations from that year (optional)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getBenefitConfirmationData
**Description**: Download benefits confirmation statement

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `confirm_num`: Benefits confirmation code (required)

**Optional Parameters**:
- `download_id`: Identifier used to check status of/download data (optional)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_benefit_confirmation_data
   ```
   - Call `get_benefit_confirmation_data` directly

2. **If `confirm_num` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_benefit_confirmation_list → get_benefit_confirmation_data
   ```
   - Step 1: Call `get_benefit_confirmation_list` with `client_id` and `employee_id` to get confirmation codes
   - Step 2: Extract `confirm_num` from the response
   - Step 3: Call `get_benefit_confirmation_data` with all parameters

**Example Use Cases**:
- "Download confirmation CON12345 for employee J00809" → Flow 1 (confirm_num known)
- "Get benefit confirmation for employee J00809" → Flow 2 (need to get confirm_num first)

---

### /benefits/v1/getBenefitPlanList
**Description**: Get a list of group benefit plans

**Required Parameters**:
- None (system-level endpoint)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_benefit_plan_list
```
- Call `get_benefit_plan_list` directly (no parameters needed)

---

### /benefits/v1/getBenefitPlans
**Description**: Get benefit plans for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `plan_id`: List of benefit plan IDs (optional)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getBenefitRule
**Description**: Get benefit rule

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `group_plan_id`: Benefit group identifier or employee ID (optional)
- `plan_id`: Group benefit plan identifier (optional)
- `effective_date`: YYYY-MM-DD format (optional)
- `use_actual_effective_date`: Boolean (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_benefit_rule
   ```
   - Call `get_benefit_rule` directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_benefit_rule
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_benefit_rule` with the extracted `client_id`

---

### /benefits/v1/getBenefitWorkflowGrid
**Description**: Get client benefit workflow grid

**Required Parameters**:
- None (all parameters are optional)

**Optional Parameters**:
- `client_id`: Client identifier (optional)
- `download_id`: Identifier used to check status/download data (optional)
- `workflow_eff_date`: YYYY-MM-DD formatted string (optional)
- `workflow_level`: Workflow level: system-level (S), client-level (C), or both (B) (optional)
- `oe_start_date`: YYYY-MM-DD formatted string (optional)
- `oe_end_date`: YYYY-MM-DD formatted string (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_benefit_workflow_grid
```
- Can be called directly with optional parameters as needed

---

### /benefits/v1/getBenefitsEnrollmentTrace
**Description**: Get employee's benefit enrollment workflow

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getClientBenefitPlans
**Description**: Get client benefit plans

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans
   ```
   - Call `get_client_benefit_plans` directly

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_benefit_plans
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_benefit_plans` with the extracted `client_id`

---

### /benefits/v1/getClientBenefitPlanSetupDetails
**Description**: Get client benefit plan setup details

**Required Parameters**:
- `client_id`: Client identifier (required)
- `plan_id`: Plan identifier (required)
- `plan_class`: Plan classification (G, R, F, M, or H) (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plan_setup_details
   ```
   - Call directly with all parameters

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_client_benefit_plan_setup_details
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get plan IDs
   - Step 2: Extract `plan_id` from the response
   - Step 3: Call `get_client_benefit_plan_setup_details` with all parameters

---

### /benefits/v1/getCobraCodes
**Description**: Get Cobra Codes

**Required Parameters**:
- None (system-level endpoint)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_cobra_codes
```
- Call `get_cobra_codes` directly (no parameters needed)

---

### /benefits/v1/getCobraEmployee
**Description**: Get Cobra Employee information

**Required Parameters**:
- `employee_id`: Employee identifier (required)

**Flow Scenarios**:

1. **If `employee_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_cobra_employee
   ```
   - Call `get_cobra_employee` directly

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_employee_list → get_cobra_employee
   ```
   - Step 1: Call `get_client_list` (if client_id is also unknown)
   - Step 2: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 3: Extract `employee_id` from the response
   - Step 4: Call `get_cobra_employee` with the extracted `employee_id`

---

### /benefits/v1/getDependents
**Description**: Get dependent information for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `dependent_id`: Dependent identifier (optional)
- `only_active`: Return only active dependents (true/false/empty) (optional)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

**Example Use Cases**:
- "Get dependents for employee J00809 in client 132" → Flow 1 (both IDs known)
- "Show all dependents" → Flow 2 or 3 (need to find employee_id)

---

### /benefits/v1/getDisabilityPlanEnrollmentDetails
**Description**: Get benefit enrollment plan details for disability plans

**Required Parameters**:
- `group_benefit_plan_id`: Benefit plan ID (must be a disability plan) (required)

**Optional Parameters**:
- `effective_date`: YYYY-MM-DD format (optional)
- `from_date`: YYYY-MM-DD format (optional)

**Flow Scenarios**:

1. **If `group_benefit_plan_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_disability_plan_enrollment_details
   ```
   - Call directly with the known plan ID

2. **If `group_benefit_plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_disability_plan_enrollment_details
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get plan IDs
   - Step 2: Extract a disability plan ID from the response
   - Step 3: Call `get_disability_plan_enrollment_details` with the plan ID

---

### /benefits/v1/getEligibleFlexSpendingPlans
**Description**: Get eligible flex spending plans for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `as_of_date`: Date to use when calculating eligibility (optional)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getEligibleZipCodes
**Description**: Get eligible zip codes for a benefit plan

**Required Parameters**:
- `plan_id`: Group benefit plan identifier (required)

**Flow Scenarios**:

1. **If `plan_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_eligible_zip_codes
   ```
   - Call directly with the known plan ID

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_eligible_zip_codes
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get plan IDs
   - Step 2: Extract `plan_id` from the response
   - Step 3: Call `get_eligible_zip_codes` with the extracted `plan_id`

---

### /benefits/v1/getEmployeePremium
**Description**: Calculate an employee's premium rates

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `effective_date`: Date to use when calculating premium (required)
- `plan_id`: Benefit plan identifier (required)

**Optional Parameters**:
- `options`: String containing keywords: PremiumRates, ContributionRates (optional)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_employee_premium
   ```
   - Call directly with all parameters

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_employee_premium
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get plan IDs
   - Step 2: Extract `plan_id` from the response
   - Step 3: Call `get_employee_premium` with all parameters

---

### /benefits/v1/getEmployeeRetirementSummary
**Description**: Get employee retirement summary

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `plan_id`: Plan identifier (required)
- `plan_year`: Plan year (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_employee_retirement_summary
   ```
   - Call directly with all parameters

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_retirement_plan → get_employee_retirement_summary
   ```
   - Step 1: Call `get_retirement_plan` with `client_id` and `employee_id` to get plan IDs
   - Step 2: Extract `plan_id` and `plan_year` from the response
   - Step 3: Call `get_employee_retirement_summary` with all parameters

---

### /benefits/v1/getEnrollInputList
**Description**: Get required input elements to enroll employee in benefit plan

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `plan_id`: Group benefit plan identifier (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_enroll_input_list
   ```
   - Call directly with all parameters

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_available_benefit_plans → get_enroll_input_list
   ```
   - Step 1: Call `get_available_benefit_plans` with `client_id` and `employee_id` to get available plan IDs
   - Step 2: Extract `plan_id` from the response
   - Step 3: Call `get_enroll_input_list` with all parameters

---

### /benefits/v1/getEnrollmentPlanDetails
**Description**: Get benefit enrollment plan details

**Required Parameters**:
- `plan_id`: Benefit plan identifier (required)
- `offer_type`: Group benefit plan offer type (MED, DEN, VIS, LIF, etc.) (required)

**Optional Parameters**:
- `effective_date`: YYYY-MM-DD format (optional)

**Flow Scenarios**:

1. **If `plan_id` and `offer_type` are known**:
   ```
   Flow: createPeoSession (automatic) → get_enrollment_plan_details
   ```
   - Call directly with known parameters

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_enrollment_plan_details
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get plan IDs and offer types
   - Step 2: Extract `plan_id` and `offer_type` from the response
   - Step 3: Call `get_enrollment_plan_details` with the extracted parameters

---

### /benefits/v1/getFSAReimbursements
**Description**: Get flexible spending account (FSA) reimbursement for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `plan_year`: FSA plan year (optional)
- `account_type`: Flexible spending account type (optional)
- `ref_number`: Reference number (optional)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getFlexPlans
**Description**: Get flexible spending plan enrollment for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getGroupBenefitPlan
**Description**: Get group benefit plan details

**Required Parameters**:
- `plan_id`: Plan identifier (required)

**Flow Scenarios**:

1. **If `plan_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_group_benefit_plan
   ```
   - Call directly with the known plan ID

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_group_benefit_plan
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get plan IDs
   - Step 2: Extract `plan_id` from the response
   - Step 3: Call `get_group_benefit_plan` with the extracted `plan_id`

---

### /benefits/v1/getGroupBenefitRates
**Description**: Get premium and billing rates for a benefit plan

**Required Parameters**:
- `plan_id`: Group benefit plan id (required)

**Optional Parameters**:
- `date`: Effective date (optional)
- `rate_group`: Rate group (optional)
- `network_id`: Network id (optional)
- `plan_type`: Plan type (optional)
- `options`: String containing keywords: BILLING, PREMIUM (optional)

**Flow Scenarios**: Same as `getGroupBenefitPlan`

---

### /benefits/v1/getGroupBenefitTypes
**Description**: Get group benefit type(s)

**Required Parameters**:
- None

**Optional Parameters**:
- `type_code`: Group benefit plan type code (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_group_benefit_types
```
- Call directly (no required parameters)

---

### /benefits/v1/getLifeEventCodeDetails
**Description**: Get life event code(s) information for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `life_event_code`: Life event code (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_life_event_code_details
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_life_event_code_details
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_life_event_code_details` with the extracted `client_id`

---

### /benefits/v1/getMonthlyACAInfo
**Description**: Get monthly employee ACA data

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier or identifiers (array) (required)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getPTORequestsList
**Description**: Get PTO Request List

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `employee_id`: List of employee IDs (optional)
- `statuses`: Filter by PTO request status (N, A, C, P, D) (optional)
- `leave_type`: Filter by PTO type code (optional)
- `pto_starts_after_date`: Filter by PTO date range (YYYY-MM-DD) (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pto_requests_list
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pto_requests_list
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pto_requests_list` with the extracted `client_id`

---

### /benefits/v1/getPaidTimeOff
**Description**: Get paid time off information

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getPaidTimeOffPlans
**Description**: Get paid time off plans for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_paid_time_off_plans
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_paid_time_off_plans
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_paid_time_off_plans` with the extracted `client_id`

---

### /benefits/v1/getPlanYearInfo
**Description**: Get benefit plan year data

**Required Parameters**:
- None (all parameters are optional)

**Optional Parameters**:
- `plan_type`: Plan type (F, H, or C) (optional)
- `plan_year`: Four-digit year (optional)
- `plan_id`: Plan ID (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_plan_year_info
```
- Can be called directly with optional parameters as needed

---

### /benefits/v1/getPtoAbsenceCodes
**Description**: Get PTO absence codes for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `absence_code`: Absence code identifier (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pto_absence_codes
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pto_absence_codes
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pto_absence_codes` with the extracted `client_id`

---

### /benefits/v1/getPtoAutoEnrollRules
**Description**: Get PTO auto enroll rules for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pto_auto_enroll_rules
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pto_auto_enroll_rules
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pto_auto_enroll_rules` with the extracted `client_id`

---

### /benefits/v1/getPtoClasses
**Description**: Get paid time off classes for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pto_classes
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pto_classes
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pto_classes` with the extracted `client_id`

---

### /benefits/v1/getPtoPlanDetails
**Description**: Get PTO plan details

**Required Parameters**:
- `client_id`: Client identifier (required)
- `pto_plan_id`: PTO plan identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_pto_plan_details
   ```
   - Call directly with both parameters

2. **If `pto_plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_paid_time_off_plans → get_pto_plan_details
   ```
   - Step 1: Call `get_paid_time_off_plans` with `client_id` to get PTO plan IDs
   - Step 2: Extract `pto_plan_id` from the response
   - Step 3: Call `get_pto_plan_details` with both parameters

---

### /benefits/v1/getPtoRegisterTypes
**Description**: Get PTO register types for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `pto_type_code`: Single PTO type code to return (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pto_register_types
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pto_register_types
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pto_register_types` with the extracted `client_id`

---

### /benefits/v1/getRetirementLoans
**Description**: Get retirement loans for an employee or client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `employee_id`: Employee identifier (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_retirement_loans
   ```
   - Call directly with `client_id` (and optionally `employee_id`)

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_retirement_loans
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_retirement_loans` with the extracted `client_id`

---

### /benefits/v1/getRetirementPlan
**Description**: Get active retirement plans for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `effective_date`: YYYY-MM-DD formatted string (optional)
- `is_active`: Boolean (optional)

**Flow Scenarios**: Same as `getActiveBenefitPlans`

---

### /benefits/v1/getSection125Plans
**Description**: Get HSA/Section 125 plan details

**Required Parameters**:
- `plan_type`: Type of plan (H for HSA, C for Section 125) (required)

**Optional Parameters**:
- `plan_id`: Plan ID (optional)
- `count`: Number of plans per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_section125_plans
```
- Call directly with `plan_type` (and optionally other parameters)

---

### /benefits/v1/retirementCensusExport
**Description**: Download retirement census report

**Required Parameters**:
- `report_format`: Report format (Census, Participants, or Eligibility) (required)
- `plan_id`: Retirement plan identifier or ALL (required)

**Optional Parameters**:
- `client_id`: Client identifier (optional)
- `download_id`: Identifier used to check status/download data (optional)
- `start_date`: Start date for the report (optional)
- `end_date`: End date for the report (optional)
- `count`: Number of records per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `report_format` and `plan_id` are known**:
   ```
   Flow: createPeoSession (automatic) → get_retirement_census_export
   ```
   - Call directly with required parameters

2. **If `plan_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_retirement_plan_list → get_retirement_census_export
   ```
   - Step 1: Call `get_retirement_plan_list` with `client_id` to get retirement plan IDs
   - Step 2: Extract `plan_id` from the response
   - Step 3: Call `get_retirement_census_export` with the extracted `plan_id`

---

## ClientMaster Endpoints

### /clientMaster/v1/getACALargeEmployer
**Description**: Get ACA large Employer status

**Required Parameters**:
- `client_id`: Client identifier (can be "ALL" for all clients) (required)

**Optional Parameters**:
- `count`: Number of records per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_aca_large_employer
   ```
   - Call `get_aca_large_employer` directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_aca_large_employer
   ```
   - Step 1: Call `get_client_list` to retrieve available client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_aca_large_employer` with the extracted `client_id`

**Example Use Cases**:
- "Get ACA large employer status for client 132" → Flow 1 (client_id known)
- "Show ACA large employer status for all clients" → Flow 1 (use "ALL" as client_id)

---

### /clientMaster/v1/getActiveEmployeeCountByEntity
**Description**: Get active employee count by entity

**Required Parameters**:
- `client_id`: List of up to ten client identifiers (required)
- `entity_type`: Type of entity (benefitGroup, department, division, location, position, project, shift, skill, workGroup) (required)

**Optional Parameters**:
- `include_obsolete`: Whether to include obsolete entities (optional)
- `download_id`: Identifier used to check status/download data (optional)

**Flow Scenarios**:

1. **If `client_id` and `entity_type` are known**:
   ```
   Flow: createPeoSession (automatic) → get_active_employee_count_by_entity
   ```
   - Call directly with both known parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_active_employee_count_by_entity
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_active_employee_count_by_entity` with the extracted `client_id` and `entity_type`

---

### /clientMaster/v1/getAllPrismClientContacts
**Description**: Get all Prism client contacts

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_all_prism_client_contacts
   ```
   - Call directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_all_prism_client_contacts
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_all_prism_client_contacts` with the extracted `client_id`

---

### /clientMaster/v1/getBackupAssignments
**Description**: Get Backup Assignments

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_backup_assignments
   ```
   - Call directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_backup_assignments
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_backup_assignments` with the extracted `client_id`

---

### /clientMaster/v1/getBenefitGroup
**Description**: Get a benefit group

**Required Parameters**:
- `client_id`: Client identifier (required)
- `group_id`: Benefit group identifier(s) - up to 20 groups (required, list)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_benefit_group
   ```
   - Call directly with both known parameters

2. **If `group_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_benefit_plans → get_benefit_group
   ```
   - Step 1: Call `get_client_benefit_plans` with `client_id` to get benefit group information
   - Step 2: Extract `group_id` from the response
   - Step 3: Call `get_benefit_group` with both parameters

**Note**: `group_id` may also be available from client setup data or other benefit-related endpoints.

---

### /clientMaster/v1/getBillPending
**Description**: Get bill pending record

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `status`: Only return bill pending items in a particular status (Pending, Complete, or All) (optional)
- `start_bill_date`: Date to only return items created on or after that date (optional)
- `end_bill_date`: Date to only return items created on or before that date (optional)
- `event`: Event code to filter by (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_bill_pending
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_bill_pending
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_bill_pending` with the extracted `client_id`

---

### /clientMaster/v1/getBundledBillingRule
**Description**: Get bundled billing rule(s)

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `billing_rule`: Billing rule id to return a specific rule (optional)
- `wc_code`: Only return rules for the workers' compensation code (optional)
- `state`: Only return rules for the state (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_bundled_billing_rule
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_bundled_billing_rule
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_bundled_billing_rule` with the extracted `client_id`

---

### /clientMaster/v1/getClientBillingBankAccount
**Description**: Get client billing bank account

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_billing_bank_account
   ```
   - Call directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_billing_bank_account
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_billing_bank_account` with the extracted `client_id`

---

### /clientMaster/v1/getClientCodes
**Description**: Get code tables for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `options`: Single string containing one or more options (e.g., "BenefitGroup,Department,Pay") (required)

**Optional Parameters**:
- `exclude_obsolete`: Use to exclude obsolete codes (optional)
- `count`: Number of codes returned per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` and `options` are known**:
   ```
   Flow: createPeoSession (automatic) → get_client_codes
   ```
   - Call directly with both parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_codes
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_codes` with the extracted `client_id` and `options`

---

### /clientMaster/v1/getClientEvents
**Description**: Get client specific events

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `organizer`: Enter an organizer to only return events associated with them (optional)
- `from_date`: Enter a date to only return events that occur from this date (optional)
- `thru_date`: Enter a date to only return events that occur through this date (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_events
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_events
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_events` with the extracted `client_id`

---

### /clientMaster/v1/getClientList
**Description**: Get clients list

**Required Parameters**:
- None

**Optional Parameters**:
- `in_active`: Whether to retrieve inactive clients instead of active clients (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_client_list
```
- Call `get_client_list` directly (no required parameters)

**Note**: This endpoint is commonly used as a dependency to obtain `client_id` for other endpoints.

---

### /clientMaster/v1/getClientLocationDetails
**Description**: Get client location detail

**Required Parameters**:
- `client_id`: Client identifier (required)
- `location_id`: ID of the client's worksite location to retrieve (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_client_location_details
   ```
   - Call directly with both parameters

2. **If `location_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_codes → get_client_location_details
   ```
   - Step 1: Call `get_client_codes` with `client_id` and `options="Location"` to get location IDs
   - Step 2: Extract `location_id` from the response
   - Step 3: Call `get_client_location_details` with both parameters

---

### /clientMaster/v1/getClientMaster
**Description**: Get client master data

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_master
   ```
   - Call directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_master
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_master` with the extracted `client_id`

---

### /clientMaster/v1/getClientOwnership
**Description**: Get client ownership details

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_ownership
   ```
   - Call directly with the known `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_ownership
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_ownership` with the extracted `client_id`

---

### /clientMaster/v1/getDocExpirations
**Description**: Return docs that will expire within 'daysOut' days from current date

**Required Parameters**:
- `client_id`: Client identifier (required)
- `doc_types`: Type of document: 'I9' (Form I-9 documents) or 'SKILL' (skills from Employee Details) (required)
- `days_out`: Number of days (e.g., 42 to retrieve documents expiring within six weeks) (required)

**Optional Parameters**:
- `employee_id`: Employee identifier (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_doc_expirations
   ```
   - Call directly with `client_id`, `doc_types`, and `days_out`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_doc_expirations
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_doc_expirations` with the extracted `client_id` and other parameters

---

### /clientMaster/v1/getEmployeeListByEntity
**Description**: Get employee list by entity

**Required Parameters**:
- `client_id`: Client identifier (required)
- `entity_type`: The type of entity (location, division, workGroup, position, skill, shift, benefitGroup, project or department) (required)
- `entity_id`: Entity identifier (required)

**Optional Parameters**:
- `status_class`: Specify a value to only return employees within that status class (A, L, T, or combination) (optional)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list_by_entity
   ```
   - Call directly with all parameters

2. **If `entity_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_codes → get_employee_list_by_entity
   ```
   - Step 1: Call `get_client_codes` with `client_id` and appropriate `options` based on `entity_type` to get entity IDs
   - Step 2: Extract `entity_id` from the response
   - Step 3: Call `get_employee_list_by_entity` with all parameters

---

### /clientMaster/v1/getEmployeesInPayGroup
**Description**: Get employees by pay group

**Required Parameters**:
- `client_id`: Client identifier (required)
- `pay_group`: Pay group identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_employees_in_pay_group
   ```
   - Call directly with both parameters

2. **If `pay_group` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_schedule → get_employees_in_pay_group
   ```
   - Step 1: Call `get_payroll_schedule` with `client_id` to get pay group information
   - Step 2: Extract `pay_group` from the response
   - Step 3: Call `get_employees_in_pay_group` with both parameters

---

### /clientMaster/v1/getGLCutbackCheckPost
**Description**: Get GLCutbackCheckPost

**Required Parameters**:
- `gl_company`: Employer ID (GL company identifier) (required)
- `tran_date`: Transaction date (date of the payroll), MM/DD/YY format (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_gl_cutback_check_post
```
- Call directly with `gl_company` and `tran_date`

**Note**: `gl_company` is typically obtained from client master data or system configuration.

---

### /clientMaster/v1/getGLData
**Description**: Get GL data

**Required Parameters**:
- `type`: Type must be one of: 'Journal' (data available for journal posting), 'Invoice' (data available for invoice posting), or 'Cutback' (data available for check posting) (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_gl_data
```
- Call directly with `type`

---

### /clientMaster/v1/getGLInvoicePost
**Description**: Get GL Invoice Post

**Required Parameters**:
- `gl_company`: Employer ID (GL company identifier) (required)
- `tran_date`: Transaction date (date of the payroll), MM/DD/YY format (required)

**Flow Scenarios**: Same as `getGLCutbackCheckPost`

---

### /clientMaster/v1/getGLJournalPost
**Description**: Get GL Journal Post

**Required Parameters**:
- `gl_company`: Employer ID (GL company identifier) (required)
- `tran_date`: Transaction date (date of the payroll), MM/DD/YY format (required)

**Flow Scenarios**: Same as `getGLCutbackCheckPost`

---

### /clientMaster/v1/getGeoLocations
**Description**: Get GeoLocations matching for the ZIP code

**Required Parameters**:
- `zip_code`: The five-digit ZIP code used to match GeoLocations (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_geo_locations
```
- Call directly with `zip_code`

---

### /clientMaster/v1/getLaborAllocations
**Description**: Get list of labor allocation templates

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `template_id`: Template identifier (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_labor_allocations
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_labor_allocations
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_labor_allocations` with the extracted `client_id`

---

### /clientMaster/v1/getLaborUnionDetails
**Description**: Get Labor Union Details

**Required Parameters**:
- `client_id`: Client identifier (required)
- `union_code`: Union code (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_labor_union_details
   ```
   - Call directly with both parameters

2. **If `union_code` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_codes → get_labor_union_details
   ```
   - Step 1: Call `get_client_codes` with `client_id` and appropriate options to get union codes
   - Step 2: Extract `union_code` from the response
   - Step 3: Call `get_labor_union_details` with both parameters

---

### /clientMaster/v1/getMessageList
**Description**: Get message list

**Required Parameters**:
- `user_id`: User identifier (required)

**Optional Parameters**:
- `from_date`: First date to retrieve, inclusive (YYYY-MM-DD format) (optional)
- `to_date`: Last date to retrieve, inclusive (YYYY-MM-DD format) (optional)
- `un_read_only`: Whether to return only unread messages (optional)

**Flow Scenarios**:

1. **If `user_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_message_list
   ```
   - Call directly with `user_id`

2. **If `user_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_user_list → get_message_list
   ```
   - Step 1: Call `get_user_list` (from prismSecurity endpoints) to get user IDs
   - Step 2: Extract `user_id` from the response
   - Step 3: Call `get_message_list` with the extracted `user_id`

---

### /clientMaster/v1/getMessages
**Description**: Get messages

**Required Parameters**:
- `user_id`: User identifier (required)
- `message_id`: List of message IDs (required, list)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_messages
   ```
   - Call directly with both parameters

2. **If `message_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_message_list → get_messages
   ```
   - Step 1: Call `get_message_list` with `user_id` to get message IDs
   - Step 2: Extract `message_id` from the response
   - Step 3: Call `get_messages` with both parameters

---

### /clientMaster/v1/getOSHA300Astats
**Description**: Get OSHA 300A stats

**Required Parameters**:
- `client_id`: Client identifier (required)
- `report_year`: Report year (required)

**Optional Parameters**:
- `location_code`: Location code for report (optional)

**Flow Scenarios**:

1. **If `client_id` and `report_year` are known**:
   ```
   Flow: createPeoSession (automatic) → get_osha_300a_stats
   ```
   - Call directly with both parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_osha_300a_stats
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_osha_300a_stats` with the extracted `client_id` and `report_year`

---

### /clientMaster/v1/getPayDayRules
**Description**: Return pay day rules for the client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pay_day_rules
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pay_day_rules
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pay_day_rules` with the extracted `client_id`

---

### /clientMaster/v1/getPayGroupDetails
**Description**: Get pay group details by pay group ID

**Required Parameters**:
- `client_id`: Client identifier (required)
- `pay_group_code`: Pay group identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_pay_group_details
   ```
   - Call directly with both parameters

2. **If `pay_group_code` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_schedule → get_pay_group_details
   ```
   - Step 1: Call `get_payroll_schedule` with `client_id` to get pay group codes
   - Step 2: Extract `pay_group_code` from the response
   - Step 3: Call `get_pay_group_details` with both parameters

---

### /clientMaster/v1/getPayrollSchedule
**Description**: Get pay group and pay schedule for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_schedule
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_payroll_schedule
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_payroll_schedule` with the extracted `client_id`

---

### /clientMaster/v1/getPrismClientContact
**Description**: Get a Prism client contact

**Required Parameters**:
- `client_id`: Client identifier (required)
- `contact_id`: ID of the contact at the specified client to retrieve (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_prism_client_contact
   ```
   - Call directly with both parameters

2. **If `contact_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_all_prism_client_contacts → get_prism_client_contact
   ```
   - Step 1: Call `get_all_prism_client_contacts` with `client_id` to get contact IDs
   - Step 2: Extract `contact_id` from the response
   - Step 3: Call `get_prism_client_contact` with both parameters

---

### /clientMaster/v1/getRetirementPlanList
**Description**: Get Retirement Plan List

**Required Parameters**:
- `client_id`: Client identifier (can be "ALL" for all clients) (required)

**Optional Parameters**:
- `count`: Number of records per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_retirement_plan_list
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_retirement_plan_list
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_retirement_plan_list` with the extracted `client_id`

---

### /clientMaster/v1/getSutaBillingRates
**Description**: Get SUTA billing rates

**Required Parameters**:
- `client_id`: Client identifier (required)
- `state_code`: State identifier (required)
- `effective_date`: Date when the SUTA billing rate goes into effect, in YYYY-MM-DD format (required)

**Optional Parameters**:
- `location_code`: Identifier for a location within the state (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_suta_billing_rates
   ```
   - Call directly with all required parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_suta_billing_rates
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_suta_billing_rates` with the extracted `client_id` and other parameters

---

### /clientMaster/v1/getSutaRates
**Description**: Get SUTA rates

**Required Parameters**:
- `state`: Enter a state code or "ALLSTATES" (required)

**Optional Parameters**:
- `client_id`: Client identifier or "ALLCLIENTS" (optional)
- `employer_id`: Employer identifier or "ALLEMPLOYERS" (optional)
- `effective_date`: Enter a date (YYYY-MM-DD) to return only rates with that effective date (optional)
- `from_date`: Required if effective_date is empty; enter a date (YYYY-MM-DD) to return rates effective on or after that date (optional)
- `count`: Number of SUTA rates returned per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_suta_rates
```
- Call directly with `state` (and optionally other parameters)

---

### /clientMaster/v1/getUnbundledBillingRules
**Description**: Get unbundled billing rules

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `rule_id`: Identifier for a specific billing rule to return (optional)
- `count`: Number of billing rules returned per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_unbundled_billing_rules
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_unbundled_billing_rules
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_unbundled_billing_rules` with the extracted `client_id`

---

### /clientMaster/v1/getWCAccrualModifiers
**Description**: Get WC accrual modifiers

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `state_code`: State code (optional)
- `effective_date`: Effective date (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_wc_accrual_modifiers
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_wc_accrual_modifiers
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_wc_accrual_modifiers` with the extracted `client_id`

---

### /clientMaster/v1/getWCBillingModifiers
**Description**: Get WC billing modifiers

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `state_code`: State code (optional)
- `effective_date`: Effective date (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_wc_billing_modifiers
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_wc_billing_modifiers
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_wc_billing_modifiers` with the extracted `client_id`

---

### /clientMaster/v2/getClientLocationDetails
**Description**: Get client location detail V2 version (with PII masking)

**Required Parameters**:
- `client_id`: Client identifier (required)
- `location_id`: ID of the client's worksite location to retrieve (required)

**Flow Scenarios**: Same as `/clientMaster/v1/getClientLocationDetails`

**Note**: This is the V2 version of the endpoint with PII masking capabilities.

---

### /clientMaster/v2/getSutaBillingRates
**Description**: Get SUTA billing rates (v2 version with pagination)

**Required Parameters**:
- `client_id`: Client identifier (required)
- `state_code`: Two-character state identifier or "ALLSTATES" (required)

**Optional Parameters**:
- `location_code`: Optional identifier for a specific location within the state or "ALL" (optional)
- `effective_date`: Specify a date (YYYY-MM-DD) to return only billing rates for that date; to use this field, from_date must be empty (optional)
- `from_date`: Specify a date (YYYY-MM-DD) to return all billing rates from that date onward; to use this field, effective_date must be empty (optional)
- `count`: Number of billing rates returned per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:

1. **If `client_id` and `state_code` are known**:
   ```
   Flow: createPeoSession (automatic) → get_suta_billing_rates_v2
   ```
   - Call directly with both parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_suta_billing_rates_v2
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_suta_billing_rates_v2` with the extracted `client_id` and `state_code`

**Note**: This is the V2 version of the endpoint with improved pagination support.

---

## CodeFiles, Deductions, DocumentService, and Employee Endpoints

### /codeFiles/v1/getBillingCode
**Description**: Get Billing codes

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `billing_code`: Enter a billing code to only retrieve information about that code (optional)
- `only_active`: If true, the response only includes non-obsolete billing codes (optional)
- `count`: Number of billing codes returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_billing_code
```
- Call `get_billing_code` directly (no required parameters)

---

### /codeFiles/v1/getClientCategoryList
**Description**: Get client category list

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `client_category_id`: Enter a client category ID to only retrieve information about that client category ID (optional)
- `count`: Number of client category records to return per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_client_category_list
```
- Call `get_client_category_list` directly (no required parameters)

---

### /codeFiles/v1/getContactTypeList
**Description**: Get Contact Type List

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_contact_type_list
```
- Call `get_contact_type_list` directly (no parameters)

---

### /codeFiles/v1/getCourseCodesList
**Description**: Get all courses associated with a particular client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `course_code_id`: Single course code to return (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_course_codes_list
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_course_codes_list
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_course_codes_list` with the extracted `client_id`

---

### /codeFiles/v1/getDeductionCodeDetails
**Description**: Get Deduction code details

**Required Parameters**:
- `deduction_code`: Deduction code ID (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_deduction_code_details
```
- Call directly with `deduction_code`

**Note**: `deduction_code` may be obtained from client setup data or `get_client_codes` with options including deduction codes.

---

### /codeFiles/v1/getDepartmentCode
**Description**: Get specified department code file for a particular client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `department_code`: Department code (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_department_code
   ```
   - Call directly with both parameters

2. **If `department_code` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_codes → get_department_code
   ```
   - Step 1: Call `get_client_codes` with `client_id` and `options="Department"` to get department codes
   - Step 2: Extract `department_code` from the response
   - Step 3: Call `get_department_code` with both parameters

---

### /codeFiles/v1/getDivisionCode
**Description**: Get specified division code file for a particular client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `division_code`: Division code (required)

**Flow Scenarios**: Same as `getDepartmentCode` (use `options="Division"` in step 1)

---

### /codeFiles/v1/getEeoCodes
**Description**: Get EEO setup codes

**Required Parameters**:
- `eeo_code_type`: Type of EEO-1 setup code to return; allowed values are 'Class', 'Group', and 'Ethnic' (required)

**Optional Parameters**:
- `eeo_code`: Enter a setup code to only return information about that code, or leave blank to return all codes for the specified type (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_eeo_codes
```
- Call directly with `eeo_code_type` (and optionally `eeo_code`)

---

### /codeFiles/v1/getEventCodes
**Description**: Returns event codes file for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_event_codes
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_event_codes
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_event_codes` with the extracted `client_id`

---

### /codeFiles/v1/getHolidayCodeList
**Description**: Get global holiday code list for this PEO

**Required Parameters**:
- None

**Optional Parameters**:
- `year`: Year filter (format: YYYY) (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_holiday_code_list
```
- Call `get_holiday_code_list` directly (optionally with `year`)

---

### /codeFiles/v1/getNAICSCodeList
**Description**: Get NAICS Code List

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `naics_code`: A six-digit NAICS identifier (e.g., 311221) (optional)
- `count`: Number of NAICS code records returned per page (default: 5000) (optional)
- `startpage`: Pagination start location (first page = '0') (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_naics_code_list
```
- Call `get_naics_code_list` directly (no required parameters)

---

### /codeFiles/v1/getPayGrades
**Description**: Get Client Pay Grades

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `pay_grade_code`: Enter a pay grade code to only return information about that code, or leave blank to return all codes (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pay_grades
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pay_grades
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pay_grades` with the extracted `client_id`

---

### /codeFiles/v1/getPaycodeDetails
**Description**: Get Pay Code details

**Required Parameters**:
- `paycode_id`: Pay code identifier (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_paycode_details
```
- Call directly with `paycode_id`

**Note**: `paycode_id` is typically obtained from system configuration or payroll-related endpoints.

---

### /codeFiles/v1/getPositionClassifications
**Description**: Returns position classifications

**Required Parameters**:
- None

**Optional Parameters**:
- `position_class`: Position class (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_position_classifications
```
- Call `get_position_classifications` directly (optionally with `position_class`)

---

### /codeFiles/v1/getPositionCode
**Description**: Returns position code for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `position_code`: Position code (required)

**Flow Scenarios**: Similar to `getDepartmentCode` (use `options="Position"` or appropriate option in step 1)

---

### /codeFiles/v1/getProjectCode
**Description**: Returns project code for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `project_code`: Project code (required)

**Flow Scenarios**: Similar to `getDepartmentCode` (use `options="Project"` in step 1)

---

### /codeFiles/v1/getProjectPhase
**Description**: Returns project phases for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `class_code`: Project class code (optional)
- `project_phase_code`: Project phase code (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_project_phase
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_project_phase
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_project_phase` with the extracted `client_id`

---

### /codeFiles/v1/getRatingCode
**Description**: Get rating codes for specific client

**Required Parameters**:
- `client_id`: Client whose rating codes you want to retrieve (required)

**Optional Parameters**:
- `rating_code_id`: Enter a valid rating code ID to return information about only that rating code (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_rating_code
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_rating_code
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_rating_code` with the extracted `client_id`

---

### /codeFiles/v1/getShiftCode
**Description**: Returns shift code for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `shift_code`: Shift code (required)

**Flow Scenarios**: Similar to `getDepartmentCode` (use `options="Shift"` in step 1)

---

### /codeFiles/v1/getSkillCode
**Description**: Returns skill code for the specified client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `skill_code`: Skill code (required)

**Flow Scenarios**: Similar to `getDepartmentCode` (use `options="Skill"` in step 1)

---

### /codeFiles/v1/getUserDefinedFields
**Description**: Get User Defined Fields

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_user_defined_fields
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_user_defined_fields
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_user_defined_fields` with the extracted `client_id`

---

### /deductions/v1/getDeductionArrears
**Description**: Get payroll deductions arrear information

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: The employee ID used to retrieve the deductions (required)

**Optional Parameters**:
- `options`: Reserved for future use; send empty String (optional)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_deduction_arrears
   ```
   - Call directly with both parameters

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → get_deduction_arrears
   ```
   - Step 1: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 2: Parse the response - it will contain a list/array of employee objects
   - Step 3: If user provided a name (e.g., "Mary Jane Smith"), search the list for matching employee by name fields (firstName, lastName, name, etc.)
   - Step 4: Extract a SINGLE `employee_id` value (string) from the specific matching employee object - NOT the entire list or array
   - Step 5: Call `get_deduction_arrears` with `client_id` and the SINGLE extracted `employee_id` (must be a string, not a list)

---

### /deductions/v1/getDeductions
**Description**: Get payroll deductions information

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: The employee ID used to retrieve the deductions (required)

**Optional Parameters**:
- `options`: Reserved for future use; send empty String (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /deductions/v1/getEmployeeLoans
**Description**: Get employee loans information

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: The employee ID used to retrieve the loans (required)

**Optional Parameters**:
- `loan_id`: The loan ID. Optional parameter that allows to extract loan by Id (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /deductions/v1/getGarnishmentDetails
**Description**: Garnishment Details for the employee

**Required Parameters**:
- `client_id`: Client Identifier (required)
- `employee_id`: Employee Identifier (required)

**Optional Parameters**:
- `docket_number`: Garnishment Docket Number (optional)
- `garnishment_type`: Garnishment Type (C- Child Support, SP- Spousal Support, I- IRS Tax Levy, B- Bankruptcy Order, S- State Tax Levy, FTB- Franchise Tax Board, O- Creditor Wage Garnishment, SL- Student Loan) (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /deductions/v1/getGarnishmentPaymentHistory
**Description**: Get garnishment payment history

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: The employee ID used to retrieve the loans (required)

**Optional Parameters**:
- `docket_number`: Docket number assigned to this garnishment (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /deductions/v1/getVoluntaryRecurringDeductions
**Description**: Get voluntary recurring deductions list

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: The employee ID used to retrieve the voluntary deductions (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /documentService/v1/getDocumentTypes
**Description**: Get document types

**Required Parameters**:
- None

**Optional Parameters**:
- `document_type_id`: Document type ID(s) (optional, list)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_document_types
```
- Call `get_document_types` directly (optionally with `document_type_id`)

---

### /documentService/v1/getRuleset
**Description**: Get document management ruleset

**Required Parameters**:
- `user_id`: Username (required)
- `client_id`: Client identifier (required)
- `user_type`: User type: 'I' (Internal User), 'C' (Worksite Manager), 'A' (Worksite Trusted Advisor), or 'E' (Employee) (required)
- `context`: Name of the ruleset (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_ruleset
   ```
   - Call directly with all parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_ruleset
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_ruleset` with the extracted `client_id` and other parameters

**Note**: `user_id` and `user_type` are typically obtained from user management or authentication context.

---

### /employee/v1/checkForGarnishments
**Description**: Check for garnishments for employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

**Note**: This endpoint returns whether an employee has active garnishments but does not return garnishment details.

---

### /employee/v1/download1095C
**Description**: Download an employee's Form 1095-C

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier(s); provide one employee ID to download 1095-C for a single employee, provide two employee IDs to download 1095-Cs for all employees within the given range (required, list)
- `year`: Form 1095-C year (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → download_1095c
   ```
   - Call directly with all parameters

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → download_1095c
   ```
   - Step 1: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `download_1095c` with all parameters

---

### /employee/v1/downloadW2
**Description**: Download an employee's W2

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier(s); provide only one employee ID to download W2 for a single employee, provide two employee IDs to download W2s for all employees within the given range (required, list)
- `year`: W2 year (required)

**Flow Scenarios**: Same as `download1095C`

**Note**: Limit of 200 W2s per batch.

---

### /employee/v1/get1095CYears
**Description**: Get a list of available Form 1095-C years

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

**Note**: Only returns years where Show In ESS is set to Yes.

---

### /employee/v1/get1099Years
**Description**: Get a list of available 1099 years

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: ID of the Form 1099 contractor (required)

**Flow Scenarios**: Same as `getDeductionArrears`

**Note**: Only returns years employer allows to display online.

---

### /employee/v1/getACHDeductions
**Description**: Get Employee ACH Deductions

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getAddressInfo
**Description**: Get address information for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getEmployee
**Description**: Get detailed information for a specific employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (can be a single ID or comma-separated list) (required)

**Optional Parameters**:
- `options`: Optional data options (Person, Client, Compensation, etc.) (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getEmployeeEvents
**Description**: Get events for an employee

**Required Parameters**:
- `employee_id`: Employee ID (required)
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears` (note parameter order: `employee_id` first)

---

### /employee/v1/getEmployeeList
**Description**: Get a list of employees for a client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `status_class`: Optional filter by employee status (A=Active, L=Leave, T=Terminated) (optional)
- `type_class`: Optional filter by employee type (F=Full-time, P=Part-time) (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_employee_list
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_employee_list` with the extracted `client_id`

**Note**: This endpoint is commonly used as a dependency to obtain `employee_id` for other endpoints.

---

### /employee/v1/getEmployeeSSNList
**Description**: Get list of employees with their SSN

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getEmployeeList`

**Note**: Returns employee IDs and Social Security numbers.

---

## Additional Employee, GeneralLedger, HumanResources, Login, NewHire, and Payroll Endpoints

### /employee/v1/getEmployeesReadyForEverify
**Description**: Get employees who have E-Verify Requested status

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_employees_ready_for_everify
```
- Call `get_employees_ready_for_everify` directly (no parameters)

---

### /employee/v1/getEmployersInfo
**Description**: Get current employer and list of possible employers

**Required Parameters**:
- `employee_id`: Employee ID (required)
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears` (note parameter order: `employee_id` first)

---

### /employee/v1/getEverifyStatus
**Description**: Get employee's E-Verify data

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getFutureEeChange
**Description**: Get employee future event change

**Required Parameters**:
- `event_object_id`: Event object identifier (returned by SubscriptionService.getEvents or getNewEvents) (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_future_ee_change
```
- Call directly with `event_object_id`

**Note**: `event_object_id` is obtained from subscription event services.

---

### /employee/v1/getGarnishmentEmployee
**Description**: Get employee Id for garnishment

**Required Parameters**:
- `client_id`: Client identifier (required)
- `garnishment_id`: Garnishment identifier (docket number) (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_garnishment_employee
   ```
   - Call directly with both parameters

2. **If `garnishment_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_garnishment_details → get_garnishment_employee
   ```
   - Step 1: Call `get_garnishment_details` with `client_id` and `employee_id` to get garnishment IDs
   - Step 2: Extract `garnishment_id` from the response
   - Step 3: Call `get_garnishment_employee` with both parameters

---

### /employee/v1/getHistory
**Description**: Get historical events

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `type`: History types (specify B for benefit groups, C for locations, D for departments, J for jobs/positions, P for pay, S for status, V for divisions, W for wellness status, or leave blank to retrieve all history types) (optional, list)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getI9Data
**Description**: Get employee I9 data

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `options`: A string containing zero or more of the keywords in the options table (e.g., AdditionalMetadata) (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getLeaveRequests
**Description**: Get leave requests by clientId and leaveId

**Required Parameters**:
- `client_id`: Client identifier (required)
- `leave_id`: PTO (leave request) identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_leave_requests
   ```
   - Call directly with both parameters

2. **If `leave_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_pto_requests_list → get_leave_requests
   ```
   - Step 1: Call `get_pto_requests_list` with `client_id` to get leave IDs
   - Step 2: Extract `leave_id` from the response
   - Step 3: Call `get_leave_requests` with both parameters

---

### /employee/v1/getLifeEvent
**Description**: Retrieve an employee life event

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getOSHA
**Description**: Get OSHA case

**Required Parameters**:
- `client_id`: Client identifier (required)
- `case_number`: OSHA case file number (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_osha
   ```
   - Call directly with both parameters

2. **If `case_number` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_osha_300a_stats → get_osha
   ```
   - Step 1: Call `get_osha_300a_stats` with `client_id` to get case numbers
   - Step 2: Extract `case_number` from the response
   - Step 3: Call `get_osha` with both parameters

**Note**: This is different from `getOSHA300Astats` which returns statistics.

---

### /employee/v1/getPayCardEmployees
**Description**: Get list of employees associated with a specified direct deposit transit/routing number

**Required Parameters**:
- `client_id`: Client identifier (required)
- `transit_number`: Direct deposit routing number (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_pay_card_employees
   ```
   - Call directly with both parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pay_card_employees
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pay_card_employees` with both parameters

**Note**: `transit_number` is typically obtained from employee direct deposit setup or banking information.

---

### /employee/v1/getPayRateHistory
**Description**: Get historical pay rate attributes

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getPendingApproval
**Description**: Get list of pending approvals by employeeID

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `type`: Pending approval type (specify 'T' for terminated, 'A' for Active, or leave blank to retrieve both status change types) (optional)
- `employee_id`: Employee identifier (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pending_approval
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_pending_approval
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_pending_approval` with the extracted `client_id`

---

### /employee/v1/getPositionRate
**Description**: Get list of position rates

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getScheduledDeductions
**Description**: Get an employee's scheduled deductions

**Required Parameters**:
- `client_id`: Client ID (required)
- `employee_id`: Employee ID (required)

**Flow Scenarios**: Same as `getDeductionArrears`

**Note**: Returns one-time or temporary deductions, not including standard deductions or garnishments.

---

### /employee/v1/getStatusHistoryForAdjustment
**Description**: Retrieve status history for employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getTerminationDateRange
**Description**: Get termination date range for employees

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/getW2Years
**Description**: Get a list of available W2 years

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /employee/v1/reprint1099
**Description**: Download an employee's 1099

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: ID of the independent contractor (required, list)
- `year`: Form 1099 year, returned by get1099Years (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → reprint_1099
   ```
   - Call directly with all parameters

2. **If `year` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_1099_years → reprint_1099
   ```
   - Step 1: Call `get_1099_years` with `client_id` and `employee_id` to get available years
   - Step 2: Extract `year` from the response
   - Step 3: Call `reprint_1099` with all parameters

---

### /employee/v1/reprintW2C
**Description**: Reprint a W2C (corrected W2)

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required, list)
- `year`: W2 year (required)

**Flow Scenarios**: Similar to `reprint1099` (use `get_w2_years` to get available years)

---

### /generalLedger/v1/getBulkOutstandingInvoices
**Description**: Retrieve list of client invoices

**Required Parameters**:
- None (all parameters optional, but `client_id` may be required if user has client restrictions)

**Optional Parameters**:
- `client_id`: List of client identifiers (optional, required if user has client restrictions)
- `download_id`: Identifier used to check status/download data (optional)

**Flow Scenarios**:

1. **If no client restrictions**:
   ```
   Flow: createPeoSession (automatic) → get_bulk_outstanding_invoices
   ```
   - Call directly (no required parameters)

2. **If `client_id` is required or unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_bulk_outstanding_invoices
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_bulk_outstanding_invoices` with the extracted `client_id`

---

### /generalLedger/v1/getClientAccountingTemplate
**Description**: Retrieve client and global PEO accounting templates

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_accounting_template
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_accounting_template
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_accounting_template` with the extracted `client_id`

---

### /generalLedger/v1/getClientGLData
**Description**: Get PEO client accounting data

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `pay_date_start`: Pay date range starting date (YYYY-MM-DD format) (optional)
- `pay_date_end`: Pay date range ending date (YYYY-MM-DD format) (optional)
- `post_date_start`: Post date range starting date (YYYY-MM-DD format) (optional)
- `post_date_end`: Post date range ending date (YYYY-MM-DD format) (optional)
- `batch_id`: Payroll batch ID to return journal IDs for that specific batch (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_client_gl_data
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_client_gl_data
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_client_gl_data` with the extracted `client_id`

---

### /generalLedger/v1/getGLCodes
**Description**: Get a list of General Ledger account codes and their descriptions

**Required Parameters**:
- None

**Optional Parameters**:
- `gl_code`: Optional GL code parameter to get the information just for that code (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_gl_codes
```
- Call `get_gl_codes` directly (optionally with `gl_code`)

---

### /generalLedger/v1/getGLDetailDownload
**Description**: Download accounting G/L detail report

**Required Parameters**:
- Either `batch_id` OR (`start_date` AND `end_date`) is required

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `batch_id`: Payroll batch identifier (optional)
- `start_date`: Pay date range starting date (YYYY-MM-DD format) (optional)
- `end_date`: Pay date range ending date (YYYY-MM-DD format) (optional)
- `client_id`: Client identifier(s) (optional, list)
- `employer_id`: Employer identifier(s) (optional, list)
- `gl_account`: G/L account report filter (optional, list)
- `gl_cost_center`: G/L cost center report filter (optional, list)
- `gl_detail_code_type`: G/L detail code type report filter (optional, list)
- `gl_detail_code`: G/L detail code report filter (optional, list)
- `voucher_id`: Voucher ID report filter (optional, list)
- `check_number`: Check number report filter (optional, list)
- `employee_id`: Employee ID report filter (optional, list)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_gl_detail_download
```
- Call directly with either `batch_id` OR (`start_date` and `end_date`)

---

### /generalLedger/v1/getGLInvoiceDetail
**Description**: Get posted and unposted invoice detail

**Required Parameters**:
- `gl_company`: Employer identifier associated with the G/L invoices (required)
- `inv_date`: Invoice date (format: MM/DD/YY) (required)

**Optional Parameters**:
- `include_posted`: Whether to include posted invoices in the response (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_gl_invoice_detail
```
- Call directly with `gl_company` and `inv_date`

**Note**: `gl_company` is typically obtained from client master data or system configuration.

---

### /generalLedger/v1/getGLSetup
**Description**: Get GL setup information

**Required Parameters**:
- `gl_template`: GL template identifier (required)
- `gl_type`: GL type (required)

**Optional Parameters**:
- `gl_object_id`: GL object identifier (optional)
- `state`: State code (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_gl_setup
```
- Call directly with `gl_template` and `gl_type`

**Note**: `gl_template` is typically obtained from `get_client_accounting_template` or system configuration.

---

### /generalLedger/v1/getOutstandingInvoices
**Description**: Retrieve list of client invoices

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `show_only_deposit_match`: Enter a deposit value for the system to match; the endpoint returns the invoice with a balance that matches this value, if it exists (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_outstanding_invoices
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_outstanding_invoices
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_outstanding_invoices` with the extracted `client_id`

---

### /generalLedger/v1/getPendingCashReceipts
**Description**: Get a paginated list of cash receipts and, optionally, any associated G/L deposit and post information

**Required Parameters**:
- `cash_receipt_batch_id`: ID of the cash receipts batch to retrieve; enter "ALL" to return all (required)

**Optional Parameters**:
- `include_post_type`: Set value to true to include a list of G/L posting options in the response (optional)
- `include_deposit_type`: Set value to true to include a list of G/L deposit options in the response (optional)
- `count`: Number of vouchers returned per page (optional)
- `startpage`: Pagination start location (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_pending_cash_receipts
```
- Call directly with `cash_receipt_batch_id`

---

### /generalLedger/v2/getClientGLData
**Description**: Get PEO client accounting data (v2 - non-asynchronous version)

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `pay_date_start`: Pay date range starting date (YYYY-MM-DD format) (optional)
- `pay_date_end`: Pay date range ending date (YYYY-MM-DD format) (optional)
- `post_date_start`: Post date range starting date (YYYY-MM-DD format) (optional)
- `post_date_end`: Post date range ending date (YYYY-MM-DD format) (optional)
- `batch_id`: Payroll batch ID to return journal IDs for that specific batch (optional)

**Flow Scenarios**: Same as `/generalLedger/v1/getClientGLData`

**Note**: This is the V2 version (non-asynchronous) with up to 5000 records limit.

---

### /humanResources/v1/getAssignedPendingApprovals
**Description**: Get a list of pending approvals

**Required Parameters**:
- `prism_user_id`: The PrismHR username for which assigned pending approvals should be returned (required)

**Optional Parameters**:
- `client_id`: Client identifier (optional)

**Flow Scenarios**:

1. **If `prism_user_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_assigned_pending_approvals
   ```
   - Call directly with `prism_user_id`

2. **If `prism_user_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_user_list → get_assigned_pending_approvals
   ```
   - Step 1: Call `get_user_list` (from prismSecurity endpoints) to get user IDs
   - Step 2: Extract `prism_user_id` from the response
   - Step 3: Call `get_assigned_pending_approvals` with the extracted `prism_user_id`

---

### /humanResources/v1/getOnboardTasks
**Description**: Get onboarding tasks

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `download_id`: Used to check status of and eventually download the onboard tasks data (optional)
- `client_list`: Comma separated list of client ids (optional)
- `from_date`: Only return tasks from the date entered to the current date (optional)
- `task`: Only return tasks for the task id. Valid task ids are 1 -> I9 section 1, 2 -> Employee information, 3 -> I9 Section 2 or 4 -> All other forms (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_onboard_tasks
```
- Call `get_onboard_tasks` directly (no required parameters)

---

### /humanResources/v1/getStaffingPlacement
**Description**: Get staffing placement record

**Required Parameters**:
- `vendor_id`: Vendor identifier (required)
- `staffing_client`: Client identifier under the vendor (required)
- `placement_id`: Staffing placement identifier (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_staffing_placement
   ```
   - Call directly with all parameters

2. **If `placement_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_staffing_placement_list → get_staffing_placement
   ```
   - Step 1: Call `get_staffing_placement_list` with `employee_id` to get placement IDs
   - Step 2: Extract `placement_id` from the response
   - Step 3: Call `get_staffing_placement` with all parameters

---

### /humanResources/v1/getStaffingPlacementList
**Description**: Get staffing placement IDs

**Required Parameters**:
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `client_id`: Client identifier (optional)
- `count`: Number of placement IDs to return per page (optional)
- `startpage`: Starting position in the placement ID list (optional)

**Flow Scenarios**:

1. **If `employee_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_staffing_placement_list
   ```
   - Call directly with `employee_id`

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → get_staffing_placement_list
   ```
   - Step 1: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `get_staffing_placement_list` with the extracted `employee_id`

---

### /login/v1/checkPermissionsRequestStatus
**Description**: Get status for API permissions request

**Required Parameters**:
- `web_service_user`: The web service user ID (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → check_permissions_request_status
```
- Call directly with `web_service_user`

**Note**: `web_service_user` is typically obtained from authentication context or user management.

---

### /login/v1/getAPIPermissions
**Description**: Get current API permissions

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_api_permissions
```
- Call `get_api_permissions` directly (no parameters)

---

### /newHire/v1/getNewHireQuestions
**Description**: Get new hire questions associated with state code

**Required Parameters**:
- `state_code`: Enter a two-character state code to return new hire questions for that state (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_new_hire_questions
```
- Call directly with `state_code`

---

### /newHire/v1/getNewHireRequiredFields
**Description**: Get list of required fields for new hires

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_new_hire_required_fields
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_new_hire_required_fields
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_new_hire_required_fields` with the extracted `client_id`

---

### /payroll/v1/checkInitializationStatus
**Description**: Check payroll batch initialization status

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Batch identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → check_initialization_status
   ```
   - Call directly with both parameters

2. **If `batch_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_batch_list → check_initialization_status
   ```
   - Step 1: Call `get_payroll_batch_list` (or similar endpoint) with `client_id` to get batch IDs
   - Step 2: Extract `batch_id` from the response
   - Step 3: Call `check_initialization_status` with both parameters

**Note**: `batch_id` is typically obtained from payroll batch management endpoints.

---

### /payroll/v1/getApprovalSummary
**Description**: Get payroll batch summary for approval

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Batch identifier (required)

**Optional Parameters**:
- `options`: A string containing zero or more of the keywords in the options table (optional)

**Flow Scenarios**: Same as `checkInitializationStatus`

---

## Payroll and PrismSecurity Endpoints

### /payroll/v1/getBatchInfo
**Description**: Get payroll batch information

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_batch_info
   ```
   - Call directly with both parameters

2. **If `batch_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_batch_list_for_approval → get_batch_info
   ```
   - Step 1: Call `get_batch_list_for_approval` or `get_batch_list_by_date` with `client_id` to get batch IDs
   - Step 2: Extract `batch_id` from the response
   - Step 3: Call `get_batch_info` with both parameters

---

### /payroll/v1/getBatchListByDate
**Description**: Return Payroll Batches Within a Date Range

**Required Parameters**:
- `client_id`: Client identifier (required)
- `start_date`: Starting date for the payroll batch range (required)
- `end_date`: Ending date for the payroll batch range (required)
- `date_type`: Whether to use pay periods, pay dates, or post dates (PAY, PERIOD, or POST) (required)

**Optional Parameters**:
- `pay_group`: Enter a pay group if you want to only return batches associated with that group (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_batch_list_by_date
   ```
   - Call directly with all required parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_batch_list_by_date
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_batch_list_by_date` with all parameters

---

### /payroll/v1/getBatchListForApproval
**Description**: Get a list of batchids available for approval for client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_batch_list_for_approval
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_batch_list_for_approval
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_batch_list_for_approval` with the extracted `client_id`

---

### /payroll/v1/getBatchListForInitialization
**Description**: Get a list of batch IDs available for initialization for specified client

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getBatchListForApproval`

---

### /payroll/v1/getBatchPayments
**Description**: Get batch payments information for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `payroll_number`: Payroll identifier (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_batch_payments
   ```
   - Call directly with both parameters

2. **If `payroll_number` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_vouchers → get_batch_payments
   ```
   - Step 1: Call `get_payroll_vouchers` with `client_id` and date range to get payroll numbers
   - Step 2: Extract `payroll_number` from the response
   - Step 3: Call `get_batch_payments` with both parameters

---

### /payroll/v1/getBatchStatus
**Description**: Get the statuses for a list of batches

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_ids`: Comma separated list of batches (e.g. 20191,20192,20193...) (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_batch_status
   ```
   - Call directly with both parameters

2. **If `batch_ids` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_batch_list_for_approval → get_batch_status
   ```
   - Step 1: Call `get_batch_list_for_approval` with `client_id` to get batch IDs
   - Step 2: Extract `batch_ids` from the response
   - Step 3: Call `get_batch_status` with both parameters

---

### /payroll/v1/getBillingCodeTotalsByPayGroup
**Description**: Get total billing amount for a client and batch broken out by pay group

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)
- `options`: A string containing zero or more of the keywords in the options table (required)

**Flow Scenarios**: Same as `getBatchInfo` (with additional `options` parameter)

---

### /payroll/v1/getBillingCodeTotalsForBatch
**Description**: Get total billing amount for a client and batch

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getBillingCodeTotalsWithCosts
**Description**: Get total billing amount with costs for a client and batch

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getBillingRuleUnbundled
**Description**: Get an unbundled billing rule for clientId and billingRuleNum

**Required Parameters**:
- `client_id`: Client identifier (required)
- `billing_rule_num`: Unbundled billing rule number (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_billing_rule_unbundled
   ```
   - Call directly with both parameters

2. **If `billing_rule_num` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_unbundled_billing_rules → get_billing_rule_unbundled
   ```
   - Step 1: Call `get_unbundled_billing_rules` with `client_id` to get billing rule numbers
   - Step 2: Extract `billing_rule_num` from the response
   - Step 3: Call `get_billing_rule_unbundled` with both parameters

---

### /payroll/v1/getBillingVouchers
**Description**: Get list of billing vouchers for clientId and date range

**Required Parameters**:
- `client_id`: Client identifier (required)
- `pay_date_start`: Starting pay date, inclusive (format YYYY-MM-DD) (required)
- `pay_date_end`: Ending pay date, inclusive (format YYYY-MM-DD) (required)

**Optional Parameters**:
- `bill_type`: Type of billing to retrieve the amount for (optional, list)
- `count`: Number of vouchers returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `options`: One or more options: "Initialized", "PEOClientAccounting" (optional, list)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_billing_vouchers
   ```
   - Call directly with all required parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_billing_vouchers
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_billing_vouchers` with all parameters

---

### /payroll/v1/getBillingVouchersByBatch
**Description**: Get list of initialized or finalized billing vouchers for clientId and batchId

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Optional Parameters**:
- `bill_type`: Type of billing to retrieve the amount for (optional, list)
- `count`: Number of vouchers returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `options`: One or more options: "Initialized", "PEOClientAccounting", "BillSort" (optional, list)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getBulkYearToDateValues
**Description**: Get bulk year to date values

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `download_id`: Used to check status/download the compiled YTD data (optional)
- `client_id`: Return results for only this client (optional)
- `employee_id`: Return results for only this employee (optional)
- `voucher_id`: Return results for only this voucher (optional)
- `as_of_date`: The method will return year-to-date payroll data starting from January first of the year provided and ending in this date (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_bulk_year_to_date_values
```
- Call `get_bulk_year_to_date_values` directly (no required parameters)

---

### /payroll/v1/getClientsWithVouchers
**Description**: Get the list of clients with at least one payroll voucher

**Required Parameters**:
- `pay_date_start`: Starting pay date, inclusive (format YYYY-MM-DD) (required)
- `pay_date_end`: Ending pay date, inclusive (format YYYY-MM-DD) (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_clients_with_vouchers
```
- Call directly with `pay_date_start` and `pay_date_end`

---

### /payroll/v1/getEmployee401KContributionsByDate
**Description**: Get list of employee 401K contributions

**Required Parameters**:
- `client_id`: Client identifier (required)
- `start_date`: Start of the period from which to pull payroll vouchers (required)
- `end_date`: End of the period from which to pull payroll vouchers (required)

**Optional Parameters**:
- `retirement_plan_id`: Enter a 401(k) plan ID to return data about that plan (optional)
- `options`: A string containing zero or more of the keywords in the options table (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_employee_401k_contributions_by_date
   ```
   - Call directly with all required parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_employee_401k_contributions_by_date
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_employee_401k_contributions_by_date` with all parameters

---

### /payroll/v1/getEmployeeForBatch
**Description**: Get list of employee IDs for clientId and batchId

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getEmployeeOverrideRates
**Description**: Get list of employee override rates

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /payroll/v1/getEmployeePayrollSummary
**Description**: Get an employee's payroll summary

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `year`: Year for which you want to return payroll summary data (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_employee_payroll_summary
   ```
   - Call directly with all parameters

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → get_employee_payroll_summary
   ```
   - Step 1: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `get_employee_payroll_summary` with all parameters

---

### /payroll/v1/getExternalPtoBalance
**Description**: Get external PTO balance data

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Optional Parameters**:
- `include_history`: Whether to include historical PTO balance data in the response; valid values are true, false (default), or empty string (optional)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getManualChecks
**Description**: Retrieve information about manual checks

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `reference`: Manual check reference number (optional)
- `employee_id`: Employee identifier filter (optional)
- `check_date`: Check date filter formatted as YYYY-MM-DD (optional)
- `check_status`: Check status filter: (POST)ed, (INIT)ialized, or (PEND)ing (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_manual_checks
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_manual_checks
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_manual_checks` with the extracted `client_id`

---

### /payroll/v1/getPayrollApproval
**Description**: Get payroll approval info for a client

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Batch identifier (required)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getPayrollBatchWithOptions
**Description**: Get a list of batches with payroll control options

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: ID of the payroll batch to return (required)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getPayrollNotes
**Description**: Get payroll notes

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getManualChecks`

---

### /payroll/v1/getPayrollSchedule
**Description**: Get a payroll schedule using scheduleCode

**Required Parameters**:
- `schedule_code`: Payroll schedule identifier (required)

**Flow Scenarios**:

1. **If `schedule_code` is known**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_schedule
   ```
   - Call directly with `schedule_code`

2. **If `schedule_code` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_schedule_codes → get_payroll_schedule
   ```
   - Step 1: Call `get_payroll_schedule_codes` to get schedule codes
   - Step 2: Extract `schedule_code` from the response
   - Step 3: Call `get_payroll_schedule` with the extracted `schedule_code`

**Note**: This is different from `/clientMaster/v1/getPayrollSchedule` which takes `client_id` as a parameter.

---

### /payroll/v1/getPayrollScheduleCodes
**Description**: Get a list of available schedule codes with their description

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_payroll_schedule_codes
```
- Call `get_payroll_schedule_codes` directly (no parameters)

---

### /payroll/v1/getPayrollSummary
**Description**: Get payroll summary

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `year`: Calendar year (YYYY). Must be an existing year not greater than the current year and will default to the current year if no value is passed (optional)
- `batch_type`: One or more type of payroll batches separated by a comma to return: A=All Types is the default option; R=Scheduled; S=Special; J=Adjustment; V=Reversal; M=Manual (optional)
- `batch_id`: Valid payroll batch identifier for the selected client (optional)
- `include_details`: Can only be true if a batchId is passed. true will return the details of all the payroll vouchers for the given batchId in conjunction with sort (optional)
- `sort`: Sort order for batch summary; valid values are: "Batch", "Date" (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_summary
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_payroll_summary
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_payroll_summary` with the extracted `client_id`

---

### /payroll/v1/getPayrollVoucherById
**Description**: Get a payroll voucher for clientId and voucherId

**Required Parameters**:
- `client_id`: Client identifier (required)
- `voucher_id`: Payroll voucher number (required)

**Optional Parameters**:
- `options`: A string containing zero or more of the keywords in the options table (optional)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_voucher_by_id
   ```
   - Call directly with both parameters

2. **If `voucher_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_vouchers → get_payroll_voucher_by_id
   ```
   - Step 1: Call `get_payroll_vouchers` with `client_id` and date range to get voucher IDs
   - Step 2: Extract `voucher_id` from the response
   - Step 3: Call `get_payroll_voucher_by_id` with both parameters

---

### /payroll/v1/getPayrollVoucherForBatch
**Description**: Get list of employee payroll vouchers for clientId and batchId

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch identifier (required)

**Optional Parameters**:
- `count`: Number of vouchers returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `options`: A string containing zero or more of the keywords in the options table (optional)

**Flow Scenarios**: Same as `getBatchInfo`

---

### /payroll/v1/getPayrollVouchers
**Description**: Get list of employee payroll vouchers for clientId and date range

**Required Parameters**:
- `client_id`: Client identifier (required)
- `pay_date_start`: Starting pay date, inclusive (format YYYY-MM-DD) (required)
- `pay_date_end`: Ending pay date, inclusive (format YYYY-MM-DD) (required)

**Optional Parameters**:
- `count`: Number of vouchers returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `options`: A string containing zero or more of the keywords in the options table (optional)

**Flow Scenarios**: Same as `getBillingVouchers`

---

### /payroll/v1/getPayrollVouchersForEmployee
**Description**: Get list of employee payroll vouchers for employeeId, clientId, and dates

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `pay_date_start`: Start of date range (required)
- `pay_date_end`: End of date range (required)

**Optional Parameters**:
- `count`: Number of vouchers returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `options`: A string containing zero or more of the keywords in the options table (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_vouchers_for_employee
   ```
   - Call directly with all required parameters

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → get_payroll_vouchers_for_employee
   ```
   - Step 1: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `get_payroll_vouchers_for_employee` with all parameters

---

### /payroll/v1/getProcessSchedule
**Description**: Get a process schedule using processScheduleId

**Required Parameters**:
- `process_schedule_id`: Processing schedule identifier (required)

**Flow Scenarios**:

1. **If `process_schedule_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_process_schedule
   ```
   - Call directly with `process_schedule_id`

2. **If `process_schedule_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_process_schedule_codes → get_process_schedule
   ```
   - Step 1: Call `get_process_schedule_codes` to get process schedule IDs
   - Step 2: Extract `process_schedule_id` from the response
   - Step 3: Call `get_process_schedule` with the extracted `process_schedule_id`

---

### /payroll/v1/getProcessScheduleCodes
**Description**: Get a list of available process schedule IDs with their corresponding description

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_process_schedule_codes
```
- Call `get_process_schedule_codes` directly (no parameters)

---

### /payroll/v1/getRetirementAdjVoucherListByDate
**Description**: Get retirement adj voucher-list by date

**Required Parameters**:
- `client_id`: Client identifier (required)
- `date_type`: P = date adjustment was processed, A = adjustment date (required)
- `start_date`: Process/Adjustment start date range (format: YYYY-MM-DD) (required)
- `end_date`: Process/Adjustment end date range (format: YYYY-MM-DD) (required)

**Optional Parameters**:
- `employee_id`: Employee identifier (optional)
- `download_id`: Identifier used to check status/download data (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_retirement_adj_voucher_list_by_date
   ```
   - Call directly with all required parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_retirement_adj_voucher_list_by_date
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_retirement_adj_voucher_list_by_date` with all parameters

---

### /payroll/v1/getScheduledPayments
**Description**: Get scheduled payments information for an employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /payroll/v1/getStandardHours
**Description**: Get the list of standardHours objects for clientId

**Required Parameters**:
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getManualChecks`

---

### /payroll/v1/getYearToDateValues
**Description**: Get period to date payroll values

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Optional Parameters**:
- `as_of_date`: The ending date for PTD calculation (format YYYY-MM-DD) - if omitted, today's date is used (optional)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /payroll/v1/payGroupScheduleReport
**Description**: Pay Group Schedule Report

**Required Parameters**:
- `client_id`: Client ID associated with the payGroup (required)
- `pay_group`: Pay group identifier (required)
- `pay_date_start`: Start of report date range (format: YYYY-MM-DD) (required)
- `pay_date_end`: End of report date range (format: YYYY-MM-DD) (required)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_pay_group_schedule_report
   ```
   - Call directly with all required parameters

2. **If `pay_group` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_schedule → get_pay_group_schedule_report
   ```
   - Step 1: Call `get_payroll_schedule` (from clientMaster) with `client_id` to get pay groups
   - Step 2: Extract `pay_group` from the response
   - Step 3: Call `get_pay_group_schedule_report` with all parameters

---

### /payroll/v1/reprintCheckStub
**Description**: Retrieve an employee's check stub

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)
- `voucher_id`: Payroll voucher number (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → reprint_check_stub
   ```
   - Call directly with all parameters

2. **If `voucher_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_payroll_vouchers_for_employee → reprint_check_stub
   ```
   - Step 1: Call `get_payroll_vouchers_for_employee` with `client_id`, `employee_id`, and date range to get voucher IDs
   - Step 2: Extract `voucher_id` from the response
   - Step 3: Call `reprint_check_stub` with all parameters

---

### /prismSecurity/v1/getAllowedEmployeeList
**Description**: Get list of allowed employees

**Required Parameters**:
- `prism_user_id`: PrismHR username (required)
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `employee_id`: Employee ID filter (optional)
- `last_name`: Employee last name filter (optional)
- `first_name`: Employee first name filter (optional)
- `employee_status_class`: Available options are A T L which are Active, Terminated, On Leave (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `count`: Number of employees returned per page (optional)

**Flow Scenarios**:

1. **If both required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_allowed_employee_list
   ```
   - Call directly with both parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list_security → get_allowed_employee_list
   ```
   - Step 1: Call `get_client_list_security` with `prism_user_id` to get client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_allowed_employee_list` with both parameters

**Note**: `prism_user_id` is typically obtained from authentication context or user management.

---

### /prismSecurity/v1/getClientList
**Description**: Get list of allowed clients

**Required Parameters**:
- `prism_user_id`: The PrismHR username (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_client_list_security
```
- Call directly with `prism_user_id`

**Note**: This is different from `/clientMaster/v1/getClientList` which requires no parameters. This endpoint is specific to security/access control.

---

### /prismSecurity/v1/getEmployeeClientList
**Description**: Get list of applicable clients for a provided employee user

**Required Parameters**:
- None (all parameters optional, but either `prism_user_id` or `employee_id` should be provided)

**Optional Parameters**:
- `prism_user_id`: Prism user identifier (optional)
- `employee_id`: Employee identifier (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_employee_client_list
```
- Call `get_employee_client_list` directly (with either `prism_user_id` or `employee_id`)

---

### /prismSecurity/v1/getEmployeeList
**Description**: Get list of allowed employees

**Required Parameters**:
- `prism_user_id`: The PrismHR username (required)
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getAllowedEmployeeList`

---

### /prismSecurity/v1/getEntityAccess
**Description**: Get entities access for a user

**Required Parameters**:
- `prism_user_id`: The PrismHR username (required)
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getAllowedEmployeeList`

---

### /prismSecurity/v1/getManagerList
**Description**: Get list of managers that can see a given employee

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /prismSecurity/v1/getUserDataSecurity
**Description**: Get entity access settings

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `prism_user_id`: ID of a Worksite Employee, Worksite Manager, or Worksite Trusted Advisor user (optional - omit to retrieve client data security object shell)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_user_data_security
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_user_data_security
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_user_data_security` with the extracted `client_id`

---

### /prismSecurity/v1/getUserDetails
**Description**: Get PrismHR user details

**Required Parameters**:
- `prism_user_id`: The PrismHR username (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_user_details
```
- Call directly with `prism_user_id`

**Note**: `prism_user_id` is typically obtained from authentication context or user management.

---

### /prismSecurity/v1/getUserList
**Description**: Get list of PrismHR users

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `client_id`: Client identifier (optional)
- `user_type`: User type: 'I' (service provider), 'M' (worksite manager), or 'A' (worksite trusted advisor) (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_user_list_security
```
- Call `get_user_list_security` directly (no required parameters)

---

### /prismSecurity/v1/getUserRoleDetails
**Description**: Get PrismHR user role details

**Required Parameters**:
- `role_id`: User role identifier (required)

**Flow Scenarios**:

1. **If `role_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_user_role_details
   ```
   - Call directly with `role_id`

2. **If `role_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_user_roles_list → get_user_role_details
   ```
   - Step 1: Call `get_user_roles_list` to get role IDs
   - Step 2: Extract `role_id` from the response
   - Step 3: Call `get_user_role_details` with the extracted `role_id`

---

### /prismSecurity/v1/getUserRolesList
**Description**: Get PrismHR user roles list

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_user_roles_list
```
- Call `get_user_roles_list` directly (no parameters)

---

### /prismSecurity/v1/isClientAllowed
**Description**: Check if client is allowed

**Required Parameters**:
- `prism_user_id`: The PrismHR username (required)
- `client_id`: Client identifier (required)

**Flow Scenarios**: Same as `getAllowedEmployeeList`

---

### /prismSecurity/v1/isEmployeeAllowed
**Description**: Check if employee is allowed

**Required Parameters**:
- `prism_user_id`: The PrismHR username (required)
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → is_employee_allowed
   ```
   - Call directly with all parameters

2. **If `employee_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_employee_list → is_employee_allowed
   ```
   - Step 1: Call `get_employee_list` with `client_id` to get employee IDs
   - Step 2: Extract `employee_id` from the response
   - Step 3: Call `is_employee_allowed` with all parameters

---

### /prismSecurity/v2/getUserList
**Description**: Get list of PrismHR users (v2)

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `client_id`: Client identifier (optional)
- `user_type`: User type: 'I' (service provider), 'M' (worksite manager), or 'A' (worksite trusted advisor) (optional)
- `count`: Number of users to return per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_user_list_v2
```
- Call `get_user_list_v2` directly (no required parameters)

**Note**: This is the v2 version of `getUserList` with pagination support.

---

## SignOn Endpoints

### /signOn/v1/getEmployeeImage
**Description**: Get employee image

**Required Parameters**:
- `user_id`: User ID of the employee (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_employee_image
```
- Call directly with `user_id`

**Note**: `user_id` is typically obtained from employee data or user management endpoints.

---

### /signOn/v1/getFavorites
**Description**: Get favorites

**Required Parameters**:
- `user_id`: User identifier (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_favorites
```
- Call directly with `user_id`

---

### /signOn/v1/getVendorInfo
**Description**: Get vendor info

**Required Parameters**:
- `client_id`: Client identifier (required)
- `user_id`: ID of the PrismHR user associated with the vendor field or fields (required)
- `ext_vendor_id`: SSO Service ID associated with the vendor in PrismHR (required)

**Flow Scenarios**:

1. **If all parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_vendor_info
   ```
   - Call directly with all parameters

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_vendor_info
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_vendor_info` with all parameters

---

## Subscription Endpoints

### /subscription/v1/getAllSubscriptions
**Description**: Get all subscriptions

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `user_string_id`: User-defined keyword string to (exact) match on (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_all_subscriptions
```
- Call `get_all_subscriptions` directly (no required parameters)

---

### /subscription/v1/getEvents
**Description**: Get events from the event stream

**Required Parameters**:
- `subscription_id`: ID of the subscription to use when retrieving events (required)
- `replay_id`: The starting point in the event stream for retrieving events (required)

**Optional Parameters**:
- `number_of_events`: The number of events to retrieve (optional)

**Flow Scenarios**:

1. **If both required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_events
   ```
   - Call directly with both parameters

2. **If `subscription_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_all_subscriptions → get_events
   ```
   - Step 1: Call `get_all_subscriptions` to get subscription IDs
   - Step 2: Extract `subscription_id` from the response
   - Step 3: Call `get_events` with both parameters

---

### /subscription/v1/getNewEvents
**Description**: Get new events from the event stream

**Required Parameters**:
- `subscription_id`: ID of the subscription to use when retrieving events (required)

**Optional Parameters**:
- `number_of_events`: The number of events to retrieve (optional)

**Flow Scenarios**:

1. **If `subscription_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_new_events
   ```
   - Call directly with `subscription_id`

2. **If `subscription_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_all_subscriptions → get_new_events
   ```
   - Step 1: Call `get_all_subscriptions` to get subscription IDs
   - Step 2: Extract `subscription_id` from the response
   - Step 3: Call `get_new_events` with the extracted `subscription_id`

---

### /subscription/v1/getSubscription
**Description**: Get a subscription by its ID

**Required Parameters**:
- `subscription_id`: ID of the subscription to retrieve (required)

**Flow Scenarios**:

1. **If `subscription_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_subscription
   ```
   - Call directly with `subscription_id`

2. **If `subscription_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_all_subscriptions → get_subscription
   ```
   - Step 1: Call `get_all_subscriptions` to get subscription IDs
   - Step 2: Extract `subscription_id` from the response
   - Step 3: Call `get_subscription` with the extracted `subscription_id`

---

## System Endpoints

### /system/v1/getACHFileList
**Description**: Get ACH files list

**Required Parameters**:
- `originator_id`: ACH originator ID (required)
- `post_date_start`: Starting date for range of post dates to return (format: YYYY-MM-DD) (required)

**Optional Parameters**:
- `post_date_end`: Optional end date for range of post dates to return (format: YYYY-MM-DD) (optional)
- `count`: Number of ACH files returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_ach_file_list
```
- Call directly with `originator_id` and `post_date_start`

**Note**: `originator_id` is typically obtained from system configuration or employer details.

---

### /system/v1/getARTransactionReport
**Description**: Generate an AR transaction report

**Required Parameters**:
- `start_date`: AR transaction report start date (format: YYYY-MM-DD) (required)
- `end_date`: AR transaction report end date (format: YYYY-MM-DD) (required)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `client_id`: Use this option to limit the response to one or more client IDs (optional, list)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_ar_transaction_report
```
- Call directly with `start_date` and `end_date`

---

### /system/v1/getData
**Description**: Retrieve datasets from the system

**Required Parameters**:
- `schema_name`: Name of the object schema (required)
- `class_name`: Name of the object class (required)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `client_id`: Client ID filter (optional, list)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_data
```
- Call directly with `schema_name` and `class_name`

**Note**: `schema_name` and `class_name` are typically system-defined values.

---

### /system/v1/getEmployerDetails
**Description**: Get Employer Details

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `employer_id`: Identification number for employer; if the web service user has client restrictions, enter clientId.employerId to retrieve data about a single employer (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_employer_details
```
- Call `get_employer_details` directly (no required parameters)

---

### /system/v1/getInvoiceData
**Description**: Get Invoice Data

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `batch_id`: Payroll batch ID, if returning all invoice data for a batch (optional)
- `invoice_id`: Invoice ID, if returning data about a specific invoice (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_invoice_data
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_invoice_data
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_invoice_data` with the extracted `client_id`

---

### /system/v1/getMultiEntityGroupList
**Description**: Get Multi Entity Group List

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `count`: Number of multientity groups returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)
- `client_id`: Client identifier (optional)
- `multi_entity_group_id`: Multi-entity group identifier (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_multi_entity_group_list
```
- Call `get_multi_entity_group_list` directly (no required parameters)

---

### /system/v1/getPayee
**Description**: Retrieve payee information

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `payee_id`: Enter payee id to return specific payee (optional)
- `payee_type`: Payee Type (G- Garnishing Authority, D- State Disbursement Unit, T- Tax Authority, C- Carrier, O- Other) (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_payee
```
- Call `get_payee` directly (no required parameters)

---

### /system/v1/getPaymentsPending
**Description**: Payments Pending information

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `client_id`: Enter a client ID to return payments pending for only that client (optional)
- `batch_id`: Enter a batch number to return payment pending data for only that batch; a clientId is also required in this case (optional)
- `status`: Enter either WT.PEND or PAYPEND to only return batches in that status (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_payments_pending
```
- Call `get_payments_pending` directly (no required parameters)

---

### /system/v1/getPositivePayCheckStub
**Description**: Get positive pay check stub

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_positive_pay_check_stub
```
- Call `get_positive_pay_check_stub` directly (no parameters)

---

### /system/v1/getPositivePayFileList
**Description**: Get positive pay files list

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `checking_acct`: Enter the checking account used to create positive pay file (optional)
- `file_stub`: Enter the file stub name used to create positive pay file (optional)
- `date_created`: Specify a date in YYYY-MM-DD format to retrieve positive pay files created on that date; do not use in combination with start and end date parameters (optional)
- `date_created_start`: Start date to retrieve positive pay files created in a certain date range; must use in combination with dateCreatedEnd; do not use with dateCreated (optional)
- `date_created_end`: End date to retrieve positive pay files created within a certain date range; must use in combination with dateCreatedStart; do not use with dateCreated (optional)
- `most_recent`: If true, the endpoint returns the most recently created positive pay file record for the specified checkingAcct and date parameters (optional)
- `count`: Number of positive pay files returned per page (optional)
- `startpage`: Pagination start location (first page = '0') (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_positive_pay_file_list
```
- Call `get_positive_pay_file_list` directly (no required parameters)

---

### /system/v1/getUnbilledBenefitAdjustments
**Description**: Unbilled Benefit Adjustments information

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `client_id`: Use this option to limit the response to one or more client IDs (optional, list)
- `start_date`: Adjustment period filter start date (in YYYY-MM-DD format) (optional)
- `end_date`: Adjustment period filter end date (in YYYY-MM-DD format) (optional)
- `include_term_client`: Whether to include terminated clients in the response. Terminated clients are excluded by default (optional)
- `status_class`: Use this option to restrict the response based on employee status class. Allowed values are T (terminated), A (active), and L (on leave) (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_unbilled_benefit_adjustments
```
- Call `get_unbilled_benefit_adjustments` directly (no required parameters)

---

### /system/v1/identifyACHProcessLock
**Description**: Identify ACH Process Lock

**Required Parameters**:
- None

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → identify_ach_process_lock
```
- Call `identify_ach_process_lock` directly (no parameters)

---

### /system/v1/positivePayDownload
**Description**: Download positive pay report

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `checking_account`: To generate a positive pay file for only one bank account, enter a checking account ID (optional)
- `file_stub`: To generate a positive pay file for multiple bank accounts, enter the File Stub ID for the bank accounts you want to include in the file (optional)
- `start_check_date`: To report for a specific date range, enter the start check date (format: YYYY-MM-DD); an endCheckDate value is required in this case (optional)
- `end_check_date`: To report for a specific date range, enter the end check date (format: YYYY-MM-DD); a startCheckDate value is required in this case (optional)
- `include_voided_checks`: If true, includes voided check data in the file; if false (default), ignores voided check data (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → positive_pay_download
```
- Call `positive_pay_download` directly (no required parameters)

---

### /system/v1/recreatePositivePay
**Description**: Recreate positive pay report

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `download_id`: Identifier used to check status/download data (optional)
- `file_name`: Name of the positive pay file to recreate (returned by getPositivePayFileList) (optional)

**Flow Scenarios**:

1. **If `file_name` is known**:
   ```
   Flow: createPeoSession (automatic) → recreate_positive_pay
   ```
   - Call directly with `file_name`

2. **If `file_name` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_positive_pay_file_list → recreate_positive_pay
   ```
   - Step 1: Call `get_positive_pay_file_list` to get file names
   - Step 2: Extract `file_name` from the response
   - Step 3: Call `recreate_positive_pay` with the extracted `file_name`

---

### /system/v1/streamACHData
**Description**: Stream ACH Data

**Required Parameters**:
- `ach_batch_id`: ACH Batch Identifier (required)
- `ach_file_name`: ACH File Name (required)

**Flow Scenarios**:

1. **If both parameters are known**:
   ```
   Flow: createPeoSession (automatic) → stream_ach_data
   ```
   - Call directly with both parameters

2. **If `ach_batch_id` or `ach_file_name` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_ach_file_list → stream_ach_data
   ```
   - Step 1: Call `get_ach_file_list` with `originator_id` and date range to get ACH file information
   - Step 2: Extract `ach_batch_id` and `ach_file_name` from the response
   - Step 3: Call `stream_ach_data` with both parameters

---

## TaxRate Endpoints

### /taxRate/v1/getSutaInformation
**Description**: Retrieve Employee SUTA Reporting Information

**Required Parameters**:
- `client_id`: Client identifier (required)
- `employee_id`: Employee identifier (required)

**Flow Scenarios**: Same as `getDeductionArrears`

---

### /taxRate/v1/getTaxAuthorities
**Description**: Get tax authorities

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `state_code`: Two-character state code (optional)
- `authority_id`: Authority id (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_tax_authorities
```
- Call `get_tax_authorities` directly (no required parameters)

---

### /taxRate/v1/getTaxRate
**Description**: Get tax rates

**Required Parameters**:
- `workers_comp_policy_id`: Policy ID retrieved by getWorkersCompPolicyList (required)
- `workers_comp_class`: Classification retrieved by getWorkersCompClasses (required)
- `employer_id`: Employer identifier (required)
- `effective_date`: The policy effective date (YYYY-MM-DD format) (required)

**Optional Parameters**:
- `client_id`: For future development. Client overrides are not currently supported. Leave blank (optional)

**Flow Scenarios**:

1. **If all required parameters are known**:
   ```
   Flow: createPeoSession (automatic) → get_tax_rate
   ```
   - Call directly with all parameters

2. **If `workers_comp_policy_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_workers_comp_policy_list → get_tax_rate
   ```
   - Step 1: Call `get_workers_comp_policy_list` to get policy IDs
   - Step 2: Extract `workers_comp_policy_id` from the response
   - Step 3: Call `get_tax_rate` with all parameters

3. **If `workers_comp_class` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_workers_comp_classes → get_tax_rate
   ```
   - Step 1: Call `get_workers_comp_classes` with `state_code` to get classification codes
   - Step 2: Extract `workers_comp_class` from the response
   - Step 3: Call `get_tax_rate` with all parameters

---

### /taxRate/v1/getStateW4Params
**Description**: Get W4 parameters for a given state

**Required Parameters**:
- `state_code`: Two-character state code (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_state_w4_params
```
- Call directly with `state_code`

---

### /taxRate/v1/getWorkersCompClasses
**Description**: Get workers' compensation classes

**Required Parameters**:
- `state_code`: Two-character state code (required)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_workers_comp_classes
```
- Call directly with `state_code`

---

### /taxRate/v1/getWorkersCompPolicyDetails
**Description**: Get workers' compensation policy with details

**Required Parameters**:
- `policy_id`: Workers' compensation policy identifier (required)

**Flow Scenarios**:

1. **If `policy_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_workers_comp_policy_details
   ```
   - Call directly with `policy_id`

2. **If `policy_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_workers_comp_policy_list → get_workers_comp_policy_details
   ```
   - Step 1: Call `get_workers_comp_policy_list` to get policy IDs
   - Step 2: Extract `policy_id` from the response
   - Step 3: Call `get_workers_comp_policy_details` with the extracted `policy_id`

---

### /taxRate/v1/getWorkersCompPolicyList
**Description**: Get workers' compensation policy list

**Required Parameters**:
- None (all parameters optional)

**Optional Parameters**:
- `effective_date`: Date when coverage begins under this policy (this is the beginning of the policy year) (optional)

**Flow Scenarios**:
```
Flow: createPeoSession (automatic) → get_workers_comp_policy_list
```
- Call `get_workers_comp_policy_list` directly (no required parameters)

---

## Timesheet Endpoints

### /timesheet/v1/getBatchStatus
**Description**: Get the status of a payroll batch

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch number (required)

**Flow Scenarios**: Same as `getBatchInfo` (payroll version)

**Note**: This is different from `/payroll/v1/getBatchStatus` which takes `batch_ids` (comma-separated list). This endpoint is specific to timesheet batch status.

---

### /timesheet/v1/getParamData
**Description**: Get the list of available templates and batches

**Required Parameters**:
- `client_id`: Client identifier (required)

**Optional Parameters**:
- `user_id`: User identifier used to match data submitted by Timesheet.upload with call to Timesheet.accept (optional)

**Flow Scenarios**:

1. **If `client_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_timesheet_param_data
   ```
   - Call directly with `client_id`

2. **If `client_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_client_list → get_timesheet_param_data
   ```
   - Step 1: Call `get_client_list` to retrieve client IDs
   - Step 2: Extract `client_id` from the response
   - Step 3: Call `get_timesheet_param_data` with the extracted `client_id`

---

### /timesheet/v1/getPayImportDefinition
**Description**: Get pay import definition

**Required Parameters**:
- `definition_id`: Template or pay import definition identifier (required)

**Flow Scenarios**:

1. **If `definition_id` is known**:
   ```
   Flow: createPeoSession (automatic) → get_pay_import_definition
   ```
   - Call directly with `definition_id`

2. **If `definition_id` is unknown**:
   ```
   Flow: createPeoSession (automatic) → get_timesheet_param_data → get_pay_import_definition
   ```
   - Step 1: Call `get_timesheet_param_data` with `client_id` to get definition IDs
   - Step 2: Extract `definition_id` from the response
   - Step 3: Call `get_pay_import_definition` with the extracted `definition_id`

---

### /timesheet/v1/getTimeSheetData
**Description**: Get the timesheet data for a payroll batch

**Required Parameters**:
- `client_id`: Client identifier (required)
- `batch_id`: Payroll batch number (required)

**Flow Scenarios**: Same as `getBatchInfo` (payroll version)

**Note**: This is specific to timesheet data retrieval for a payroll batch.

---

## Notes
- All endpoints require a valid sessionId (obtained via createPeoSession)
- The `client_id` is a commonly required parameter across many endpoints
- Date ranges should be provided in YYYY-MM-DD format
- Some endpoints have complex dependencies (like `get_401k_match_rules`) that may require multiple steps to obtain all required parameters
- When user provides natural language queries (e.g., "get applicants for Mary Jane"), you need to:
  - Identify which endpoint matches the request
  - Determine if any required parameters are missing
  - Call dependency endpoints to obtain missing parameters
  - **CRITICALLY IMPORTANT**: When extracting parameters from list responses, extract a SINGLE value (string/number), NOT an array or list - see detailed guidance below
  - Execute the final endpoint call with all required parameters

## CRITICAL: Parsing List Responses and Extracting Single Values

⚠️ **MOST COMMON ERROR**: Passing a list/array or comma-separated string when a single value is required. Always extract a single ID value from list responses before using it as a parameter.

🚨 **SPECIFIC ERROR TO AVOID**: When `get_employee_list` returns `{"employeeList": {"employeeId": ["J00809", "K00810", ...]}}`:
   - ❌ WRONG: `employee_id="J00809,K00810,L00811,..."` (concatenating all IDs) → Results in 404 error
   - ❌ WRONG: `employee_id=["J00809", "K00810", ...]` (passing array) → Results in type error
   - ✅ CORRECT: Call `get_employee` for EACH ID individually to find the matching employee by name, then use ONLY that single ID

**IMPORTANT**: When calling list endpoints (e.g., `get_employee_list`, `get_client_list`, `get_batch_list_for_approval`) to obtain a parameter for a subsequent endpoint call, you MUST:

1. **Parse the JSON response structure correctly**: List endpoints return responses that contain arrays or lists of objects. The response structure may vary, but commonly contains:
   - An array of objects (e.g., `["employeeList": [...]`, `["employees": [...]`)
   - A single object containing a list field (e.g., `{"employeeId": ["123", "456", "789"]}`)
   - An array directly at the root level

2. **Extract a SINGLE value, not a list**: When you need a single parameter (e.g., `employee_id`, `client_id`, `batch_id`, `voucher_id`), you MUST extract ONE specific value from the list response. NEVER pass an entire list, array, or list structure as a single parameter.

3. **Search and filter within list responses**: When the user provides a name or identifier (e.g., "Mary Jane Smith", "client ABC"), you must:
   - Call the list endpoint to get all matching items
   - Search/filter the response to find the specific item that matches the user's query
   - Extract the ID field from THAT specific item only
   - Use that single ID value in the subsequent endpoint call

4. **Example - CORRECT flow for "Get deductions for Mary Jane Smith in client 132"**:
   ```
   Step 1: Call get_employee_list(client_id="132")
   Step 2: Parse response structure - it will be: {"employeeList": {"employeeId": ["J00809", "K00810", ...]}}
           - NOTE: This response ONLY contains IDs, NOT employee names or details
   Step 3: Since names are not in the list response, you MUST call get_employee for EACH ID to get details:
           - For each employee_id in the array: call get_employee(client_id="132", employee_id="J00809")
           - For each employee_id in the array: call get_employee(client_id="132", employee_id="K00810")
           - Continue for all IDs until you find the matching employee
   Step 4: Search through the get_employee responses for employee with name matching "Mary Jane Smith"
           - Check fields like "firstName", "lastName", "name", "fullName" in each get_employee response
           - Match on "Mary" or "Jane" or "Smith" or combinations
           - Example: get_employee returns {"employeeId": "J00809", "firstName": "Mary", "lastName": "Smith", ...}
           - This matches "Mary Jane Smith" or "Mary Smith"
   Step 5: Extract the SINGLE employee_id from the MATCHING employee ONLY
           - If "J00809" matches, extract: employee_id = "J00809" (a single string)
           - STOP searching once you find the match
   Step 6: Call get_deductions(client_id="132", employee_id="J00809")
           - Use the SINGLE extracted employee_id value (NOT all IDs, NOT comma-separated)
   ```

5. **Example - INCORRECT (what NOT to do)**:
   ```
   Step 1: Call get_employee_list(client_id="132")
   Step 2: Response contains: {"employeeList": {"employeeId": ["J00809", "K00810", "L00811", ...]}}
   Step 3: ❌ WRONG: Extract all IDs and concatenate: employee_id = "J00809,K00810,L00811,M00812,S00816,T00817"
   Step 4: ❌ WRONG: Call get_employee(client_id="132", employee_id="J00809,K00810,L00811,...")
           - This will FAIL with 404 error - get_employee expects ONE employee ID, not comma-separated IDs
   
   OR
   
   Step 1: Call get_employee_list(client_id="132")
   Step 2: Response contains: {"employeeList": {"employeeId": ["J00809", "K00810", ...]}}
   Step 3: ❌ WRONG: Extract entire array: employee_id = ["J00809", "K00810", ...]
   Step 4: ❌ WRONG: Call get_deductions(client_id="132", employee_id=["J00809", "K00810", ...])
           - This will FAIL because employee_id must be a single string value, not an array
   
   REMEMBER: You MUST find the specific employee matching the name first, then use ONLY that employee's ID
   ```

6. **Common response structures to handle**:
   - `{"employeeList": {"employeeId": ["123", "456"]}}` - MOST COMMON: employeeId is an array of strings, NO names included
     - When you see this structure, you MUST call get_employee for each ID to get employee details including names
   - `{"employeeList": [{"employeeId": "123", "name": "John"}, {"employeeId": "456", "name": "Jane"}]}` - Array of objects with names (rare)
   - `{"employees": [{"id": "123", ...}, {"id": "456", ...}]}` - Different field name
   - **IMPORTANT**: The `get_employee_list` endpoint typically returns ONLY IDs, not employee details. To find an employee by name, you must call `get_employee` for each ID.
   - Always check the actual response structure before extracting values

7. **When multiple matches are found**: If searching for "Mary Jane Smith" returns multiple employees:
   - Use the first match if it's clearly the intended one
   - Or ask the user to clarify if ambiguous
   - Or use additional filters if available (e.g., status_class, type_class)

8. **Parameter types**: Remember that most endpoint parameters expect:
   - Single string values: `employee_id="123"` (NOT `employee_id=["123", "456"]`)
   - Single number values: `batch_id="20241"` (NOT an array)
   - Exception: Some endpoints accept comma-separated strings, but still as a single string: `batch_ids="20241,20242,20243"` (NOT `["20241", "20242"]`)

9. **Always validate extracted values**: Before using an extracted ID in a subsequent call:
   - Ensure it's a single value (string or number), not a list or array
   - Ensure it's not null or undefined
   - Ensure it matches the expected format for that parameter type
   - **NEVER concatenate multiple IDs with commas** - each endpoint expects ONE ID at a time
   - **NEVER pass an array or list** - always extract a single value

10. **CRITICAL RULE when searching by name**: When the user provides an employee name (e.g., "Mary Jane Smith"):
    - `get_employee_list` returns ONLY IDs: `{"employeeList": {"employeeId": ["ID1", "ID2", ...]}}`
    - You CANNOT search for names in this response because names are NOT included
    - You MUST call `get_employee(client_id, employee_id)` for EACH ID individually to get employee details
    - Search each `get_employee` response for the matching name (check firstName, lastName, name fields)
    - Once you find the matching employee, STOP and use ONLY that employee's ID
    - DO NOT concatenate all IDs - you will get a 404 error
    - DO NOT pass an array - you will get a type error

